{"version":3,"file":"static/js/4721.8998fd0322407e7f94cd.js","mappings":"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","sources":["webpack://pro-react-admin/./src/pages/chatgpt/index.jsx","webpack://pro-react-admin/./src/pages/chatgpt/sse.js","webpack://pro-react-admin/./src/utils/aidFn.js","webpack://pro-react-admin/./node_modules/html-to-image/es/util.js","webpack://pro-react-admin/./node_modules/html-to-image/es/clone-pseudos.js","webpack://pro-react-admin/./node_modules/html-to-image/es/mimes.js","webpack://pro-react-admin/./node_modules/html-to-image/es/dataurl.js","webpack://pro-react-admin/./node_modules/html-to-image/es/clone-node.js","webpack://pro-react-admin/./node_modules/html-to-image/es/embed-resources.js","webpack://pro-react-admin/./node_modules/html-to-image/es/embed-images.js","webpack://pro-react-admin/./node_modules/html-to-image/es/apply-style.js","webpack://pro-react-admin/./node_modules/html-to-image/es/embed-webfonts.js","webpack://pro-react-admin/./node_modules/html-to-image/es/index.js","webpack://pro-react-admin/./node_modules/remove-markdown/index.js","webpack://pro-react-admin/./node_modules/sse/lib/sse.js"],"sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _typeof=require(\"@babel/runtime/helpers/typeof\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _react=_interopRequireWildcard(require(\"react\"));var _markmap=_interopRequireDefault(require(\"@stateful/markmap\"));var _FixTabPanel=_interopRequireDefault(require(\"@stateless/FixTabPanel\"));var _reactMarkdown=_interopRequireDefault(require(\"react-markdown\"));var _remarkGfm=_interopRequireDefault(require(\"remark-gfm\"));var _htmlToImage=require(\"html-to-image\");var _antd=require(\"antd\");var _icons=require(\"@ant-design/icons\");var _aidFn=require(\"@utils/aidFn\");var _sse=_interopRequireDefault(require(\"./sse\"));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}/* eslint-disable react/no-children-prop */var ChatGpt=function ChatGpt(){var markmapRef=(0,_react.useRef)(null);var _Form$useForm=_antd.Form.useForm(),_Form$useForm2=(0,_slicedToArray2.default)(_Form$useForm,1),form=_Form$useForm2[0];// 生成概述\nvar apiResultRef=(0,_react.useRef)('');var _useState=(0,_react.useState)(''),_useState2=(0,_slicedToArray2.default)(_useState,2),apiResult=_useState2[0],setApiResult=_useState2[1];var _useState3=(0,_react.useState)(-1),_useState4=(0,_slicedToArray2.default)(_useState3,2),readyState=_useState4[0],setReadyState=_useState4[1];var _useState5=(0,_react.useState)(''),_useState6=(0,_slicedToArray2.default)(_useState5,2),apiKey=_useState6[0],setApiKey=_useState6[1];var bottomRef=(0,_react.useRef)(null);// 生成页面结构\nvar _useState7=(0,_react.useState)(''),_useState8=(0,_slicedToArray2.default)(_useState7,2),structureResult=_useState8[0],setStructureResult=_useState8[1];var _useState9=(0,_react.useState)(-1),_useState10=(0,_slicedToArray2.default)(_useState9,2),structureReadyState=_useState10[0],setStructureReadyState=_useState10[1];var structureResultRef=(0,_react.useRef)();(0,_react.useEffect)(function(){structureResultRef.current=structureResult;},[structureResult]);(0,_react.useEffect)(function(){var _bottomRef$current;(_bottomRef$current=bottomRef.current)===null||_bottomRef$current===void 0?void 0:_bottomRef$current.scrollIntoView({behavior:'smooth'});},[apiResult,structureResult]);var onChange=function onChange(event){setApiKey(event.target.value);};var onFinish=function onFinish(values){var text=values.text;setApiResult('');apiResultRef.current='';setStructureResult('');structureResultRef.current='';var source=(0,_sse.default)(apiKey,text);source.addEventListener('message',function(e){if(e.data!=='[DONE]'){var payload=JSON.parse(e.data);var content=payload.choices[0].delta.content;if(content){apiResultRef.current+=content;setApiResult(apiResultRef.current);}}else{source.close();}});source.addEventListener('readystatechange',function(e){setReadyState(e.readyState);// if (e.readyState === 2) {\n// }\n});source.stream();};var onButtonClick=(0,_react.useCallback)(function(key){if(markmapRef.current===null){return;}if(key==='1'){(0,_htmlToImage.toPng)(markmapRef.current,{cacheBust:true}).then(function(dataUrl){var link=document.createElement('a');link.download='prd-view.png';link.href=dataUrl;link.click();}).catch(function(err){_antd.message.error(err.message);});}else{(0,_htmlToImage.toSvg)(markmapRef.current,{cacheBust:true}).then(function(dataUrl){var link=document.createElement('a');link.download='prd-view.svg';link.href=dataUrl;link.click();}).catch(function(err){_antd.message.error(err.message);});}},[markmapRef]);var removeMd=require('remove-markdown');var copyToClipboard=function copyToClipboard(key){if(key==='1'){(0,_aidFn.copyTextToClipboard)(removeMd(apiResult));}else{(0,_aidFn.copyTextToClipboard)(apiResult);}_antd.message.success('复制成功！');};var buildStructure=function buildStructure(){structureResultRef.current='';setStructureResult('');setStructureReadyState(-1);var source=(0,_sse.default)(apiKey,\"\".concat(apiResult,\" \\u6839\\u636E\\u4EE5\\u4E0APRD\\u7684\\u76F8\\u5173\\u9875\\u9762\\uFF0C\\u5E2E\\u6211\\u7528markdown\\u8BED\\u6CD5\\u751F\\u6210\\u601D\\u7EF4\\u5BFC\\u56FE\\uFF0C\\u5B50\\u8282\\u70B9\\u5305\\u542B\\u9875\\u9762\\uFF0C\\u9875\\u9762\\u5143\\u7D20\\uFF08\\u5305\\u542B\\u9ED8\\u8BA4\\u503C\\u548C\\u9650\\u5236\\u957F\\u5EA6\\uFF09\\u3002\\u53EA\\u8981\\u751F\\u6210\\u7684markdown\\u5185\\u5BB9\\uFF0C\\u4E0D\\u8981\\u51FA\\u73B0\\u5176\\u4ED6\\u4EFB\\u4F55\\u4FE1\\u606F\\u3002\"));source.addEventListener('message',function(e){if(e.data!=='[DONE]'){var payload=JSON.parse(e.data);var content=payload.choices[0].delta.content;if(content){structureResultRef.current+=content;setStructureResult(structureResultRef.current);}}else{source.close();}});source.addEventListener('readystatechange',function(e){setStructureReadyState(e.readyState);// if (e.readyState === 2) {\n// }\n});source.stream();};return/*#__PURE__*/_react.default.createElement(_FixTabPanel.default,null,/*#__PURE__*/_react.default.createElement(\"section\",{style:{width:600}},/*#__PURE__*/_react.default.createElement(_antd.Form,{form:form,layout:\"vertical\",initialValues:{apiKey:'',text:'作为产品经理，帮我生成一份PRD文档，功能是公园入园人数大屏展示功能，采用 markdown 格式区分标题和正文，标题加上序号'},onFinish:onFinish,requiredMark:false,autoComplete:\"off\"},/*#__PURE__*/_react.default.createElement(_antd.Form.Item,{name:\"apiKey\",label:\"OPEN AI KEY\",rules:[{required:true,message:'请输入open ai key'}]},/*#__PURE__*/_react.default.createElement(_antd.Input.TextArea,{onChange:onChange,rows:1,style:{resize:'none',padding:2},placeholder:\"open ai key\"})),/*#__PURE__*/_react.default.createElement(_antd.Form.Item,{name:\"text\",label:\"\\u60A8\\u7684\\u8F93\\u5165\",rules:[{required:true,message:'请输您的需求'}]},/*#__PURE__*/_react.default.createElement(_antd.Input.TextArea,{rows:4,showCount:true,maxLength:1000,style:{resize:'none',padding:2},placeholder:\"\",onPressEnter:onFinish})),/*#__PURE__*/_react.default.createElement(_antd.Form.Item,{wrapperCol:{offset:4,span:16}},/*#__PURE__*/_react.default.createElement(_antd.Button,{block:true,type:\"primary\",htmlType:\"submit\",disabled:[0,1].includes(readyState)},apiResult&&readyState===2?'再来一次':'ChatGPT')))),/*#__PURE__*/_react.default.createElement(\"h3\",{style:{marginBottom:15}},/*#__PURE__*/_react.default.createElement(\"span\",null,\"ChatGPT\\u7684\\u56DE\\u7B54\\uFF1A\"),apiResult&&readyState===2&&/*#__PURE__*/_react.default.createElement(_antd.Dropdown,{menu:{onClick:function onClick(_ref){var key=_ref.key;copyToClipboard(key);},items:[{key:'1',label:'复制文本'},{key:'2',label:'复制Markdown'}]},placement:\"bottom\",arrow:true},/*#__PURE__*/_react.default.createElement(_antd.Button,null,/*#__PURE__*/_react.default.createElement(_antd.Space,null,/*#__PURE__*/_react.default.createElement(_icons.CopyOutlined,null),\" \\u590D\\u5236\")))),/*#__PURE__*/_react.default.createElement(\"section\",{style:{marginBottom:15,minHeight:150,border:'1px solid #eee',borderRadius:4,padding:15}},readyState===0&&/*#__PURE__*/_react.default.createElement(\"h3\",null,\"AI\\u6B63\\u5728\\u7406\\u89E3\\u60A8\\u7684\\u9700\\u6C42...\"),apiResult&&/*#__PURE__*/_react.default.createElement(_reactMarkdown.default,{children:apiResult,remarkPlugins:[_remarkGfm.default]})),/*#__PURE__*/_react.default.createElement(\"section\",null,apiResult&&readyState===2&&/*#__PURE__*/_react.default.createElement(_antd.Space,null,/*#__PURE__*/_react.default.createElement(_antd.Button,{type:\"primary\",disabled:[0,1].includes(structureReadyState),onClick:buildStructure},structureResult&&structureReadyState===2?'重新生成':'生成页面结构'),structureResult&&structureReadyState===2&&/*#__PURE__*/_react.default.createElement(_antd.Dropdown,{menu:{onClick:function onClick(_ref2){var key=_ref2.key;onButtonClick(key);},items:[{key:'1',label:'导出png格式'},{key:'2',label:'导出svg格式'}]},placement:\"bottom\",arrow:true},/*#__PURE__*/_react.default.createElement(_antd.Button,{type:\"primary\"},/*#__PURE__*/_react.default.createElement(_icons.DownloadOutlined,null),\"\\u5BFC\\u51FA\")))),structureReadyState===0&&/*#__PURE__*/_react.default.createElement(\"h3\",null,\"Ai \\u6B63\\u5728\\u7406\\u89E3\\u7684\\u9700\\u6C42...\"),structureReadyState===1&&/*#__PURE__*/_react.default.createElement(\"h3\",null,\"\\u751F\\u6210\\u4E2D...\"),structureResult&&/*#__PURE__*/_react.default.createElement(\"section\",{ref:markmapRef},/*#__PURE__*/_react.default.createElement(_markmap.default,{markmap:structureResult})),/*#__PURE__*/_react.default.createElement(\"div\",{ref:bottomRef,style:{height:20,marginBottom:20}}));};var _default=ChatGpt;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _sse=require(\"sse\");var initSSE=function initSSE(apiKey,apiContent){var source=new _sse.SSE(\"https://api.openai.com/v1/chat/completions\",{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(apiKey)},method:'POST',start:false,payload:JSON.stringify({model:'gpt-3.5-turbo',stream:true,messages:[{role:'assistant',content:apiContent}]})});return source;};var _default=initSSE;exports.default=_default;","\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.toFixedBug=exports.toFixed=exports.toCamelCase=exports.sleep=exports.shuffleArr=exports.reqStringify=exports.randomString=exports.randomNum=exports.randomItem=exports.randomHex=exports.randomColor=exports.random=exports.promiseWithTimeout=exports.pause=exports.oneApiChat=exports.limitDecimal=exports.isURLSearchParams=exports.isObject=exports.isNotEmpty=exports.isEqual=exports.isEmptyArray=exports.isDecimal=exports.isDate=exports.isDarkMode=exports.isArray=exports.hidePhone=exports.hasFocus=exports.getType=exports.getRandomId=exports.getParamObject=exports.getImgsUrl=exports.getEnv=exports.fetchSomething=exports.escape=exports.dayDif=exports.customizeTimer=exports.copyTextToClipboard=exports.clearCookies=exports.checkIsLocalPage=exports.capitalize=exports.camelizeCamelCase=exports.asyncTo=exports.asyncAction=exports.ThousandNum=exports.RoundNum=exports.RandomId=void 0;var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var _typeof2=_interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));var _qs=require(\"qs\");/* eslint-disable no-useless-call */var getEnv=function getEnv(){var env;if(typeof process!=='undefined'&&Object.prototype.toString.call(process)==='[object process]'){env='NODE';}if(typeof XMLHttpRequest!=='undefined'){env='BROWSER';}return env;};exports.getEnv=getEnv;var isArray=function isArray(val){return(0,_typeof2.default)(val)==='object'&&Object.prototype.toString.call(val)==='[object Array]';};exports.isArray=isArray;var isURLSearchParams=function isURLSearchParams(val){return typeof URLSearchParams!=='undefined'&&val instanceof URLSearchParams;};exports.isURLSearchParams=isURLSearchParams;var isDate=function isDate(val){return(0,_typeof2.default)(val)==='object'&&Object.prototype.toString.call(val)==='[object Date]';};exports.isDate=isDate;var isObject=function isObject(val){return val!==null&&(0,_typeof2.default)(val)==='object';};exports.isObject=isObject;var getParamObject=function getParamObject(val){if(isURLSearchParams(val)){return(0,_qs.parse)(val.toString(),{strictNullHandling:true});}if(typeof val==='string'){return[val];}return val;};exports.getParamObject=getParamObject;var reqStringify=function reqStringify(val){return(0,_qs.stringify)(val,{arrayFormat:'repeat',strictNullHandling:true});};exports.reqStringify=reqStringify;var getType=function getType(obj){var type=(0,_typeof2.default)(obj);if(type!=='object'){return type;}return Object.prototype.toString.call(obj).replace(/^$/,'$1');};exports.getType=getType;var hidePhone=function hidePhone(phone){return phone===null||phone===void 0?void 0:phone.replace(/(\\d{3})\\d{4}(\\d{4})/,'$1****$2');};// asyncAction(action)(callback)\nexports.hidePhone=hidePhone;var asyncAction=function asyncAction(action){var wait=Promise.resolve(action);return function(cb){wait.then(function(){return setTimeout(function(){return cb();});});};};exports.asyncAction=asyncAction;var getImgsUrl=function getImgsUrl(html){var imgReg=/<img.*?(?:>|\\/>)/gi;var srcReg=/src=['\"]?([^'\"]*)['\"]?/i;var arr=html.match(imgReg);if(!arr)return null;var urlArr=arr.reduce(function(prev,next){var src=next.match(srcReg);return src[1]?[].concat((0,_toConsumableArray2.default)(prev),[src[1]]):prev;},[]);return urlArr;};exports.getImgsUrl=getImgsUrl;var customizeTimer={intervalTimer:null,timeoutTimer:null,setTimeout:function setTimeout(cb,interval){var _this=this;var now=Date.now;var stime=now();var etime=stime;var loop=function loop(){_this.timeoutTimer=requestAnimationFrame(loop);etime=now();if(etime-stime>=interval){cb();cancelAnimationFrame(_this.timeoutTimer);}};this.timeoutTimer=requestAnimationFrame(loop);return this.timeoutTimer;},clearTimeout:function clearTimeout(){cancelAnimationFrame(this.timeoutTimer);},setInterval:function setInterval(cb,interval){var _this2=this;var now=Date.now;var stime=now();var etime=stime;var loop=function loop(){_this2.intervalTimer=requestAnimationFrame(loop);etime=now();if(etime-stime>=interval){stime=now();etime=stime;cb();}};this.intervalTimer=requestAnimationFrame(loop);return this.intervalTimer;},clearInterval:function clearInterval(){cancelAnimationFrame(this.intervalTimer);}};exports.customizeTimer=customizeTimer;var isDecimal=function isDecimal(value){var reg=/(?:^[1-9](\\d+)?(?:\\.\\d{1,2})?$)|(?:^(?:0)$)|(?:^\\d\\.\\d(?:\\d)?$)/;return reg.test(value);};exports.isDecimal=isDecimal;var limitDecimal=function limitDecimal(val){return val.replace(/^(-)*(\\d+)\\.(\\d\\d).*$/,'$1$2.$3');};/*\n ** 判断用户是否离开当前页面\n */exports.limitDecimal=limitDecimal;var checkIsLocalPage=function checkIsLocalPage(){document.addEventListener('visibilitychange',function(){if(document.visibilityState==='hidden'){return false;}if(document.visibilityState==='visible'){return true;}window.addEventListener('pagehide',function(event){if(event.persisted){/* the page isn't being discarded, so it can be reused later */}},false);});};// Generate Random Hex\nexports.checkIsLocalPage=checkIsLocalPage;var randomHex=function randomHex(){return\"#\".concat(Math.floor(Math.random()*0xffffff).toString(16).padEnd(6,'0'));};// Clear All Cookies\nexports.randomHex=randomHex;var clearCookies=document.cookie.split(';').forEach(function(cookie){return document.cookie=cookie.replace(/^ +/,'').replace(/[=].*/,\"=;expires=\".concat(new Date(0).toUTCString(),\";path=/\"));});// Find the number of days between two days\nexports.clearCookies=clearCookies;var dayDif=function dayDif(date1,date2){return Math.ceil(Math.abs(date1.getTime()-date2.getTime())/86400000);};// Capitalize a String\nexports.dayDif=dayDif;var capitalize=function capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1);};// Check if the array is empty\nexports.capitalize=capitalize;var isNotEmpty=function isNotEmpty(arr){return Array.isArray(arr)&&arr.length>0;};// Detect Dark Mode\nexports.isNotEmpty=isNotEmpty;var isDarkMode=window.matchMedia('(prefers-color-scheme: dark)').matches;exports.isDarkMode=isDarkMode;var fetchSomething=function fetchSomething(){return new Promise(function(resolve){setTimeout(function(){resolve('');},1000);});};exports.fetchSomething=fetchSomething;var toFixed=function toFixed(number,m){if(typeof number!=='number'){throw new Error('number不是数字');}var result=Math.round(Math.pow(10,m)*number)/Math.pow(10,m);result=String(result);if(result.indexOf('.')===-1){if(m!==0){result+='.';result+=new Array(m+1).join('0');}}else{var arr=result.split('.');if(arr[1].length<m){arr[1]+=new Array(m-arr[1].length+1).join('0');}result=arr.join('.');}return result;};exports.toFixed=toFixed;var toFixedBug=function toFixedBug(n,fixed){return~~(Math.pow(10,fixed)*n)/Math.pow(10,fixed);};exports.toFixedBug=toFixedBug;var promiseWithTimeout=function promiseWithTimeout(promise,timeout){var timeoutPromise=new Promise(function(resolve){return setTimeout(function(){return resolve('Time Out!');},timeout);});return Promise.race([timeoutPromise,promise]);};exports.promiseWithTimeout=promiseWithTimeout;var shuffleArr=function shuffleArr(arr){return arr.sort(function(){return 0.5-Math.random();});};exports.shuffleArr=shuffleArr;var sleep=function sleep(time){return new Promise(function(resolve){return setTimeout(function(){return resolve();},time);});};exports.sleep=sleep;var ThousandNum=function ThousandNum(num){return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,',');};exports.ThousandNum=ThousandNum;var RandomId=function RandomId(len){return Math.random().toString(36).substring(3,len);};exports.RandomId=RandomId;var RoundNum=function RoundNum(num,decimal){return Math.round(num*Math.pow(10,decimal))/Math.pow(10,decimal);};exports.RoundNum=RoundNum;var randomNum=function randomNum(min,max){return Math.floor(Math.random()*(max-min+1))+min;};exports.randomNum=randomNum;var isEmptyArray=function isEmptyArray(arr){return Array.isArray(arr)&&!arr.length;};exports.isEmptyArray=isEmptyArray;var randomItem=function randomItem(arr){return arr[Math.floor(Math.random()*arr.length)];};exports.randomItem=randomItem;var asyncTo=function asyncTo(promise){return promise.then(function(data){return[null,data];}).catch(function(err){return[err];});};exports.asyncTo=asyncTo;var hasFocus=function hasFocus(element){return element===document.activeElement;};exports.hasFocus=hasFocus;var isEqual=function isEqual(a,b){return JSON.stringify(a)===JSON.stringify(b);};exports.isEqual=isEqual;var randomString=function randomString(){return Math.random().toString(36).slice(2);};exports.randomString=randomString;var escape=function escape(str){return str.replace(/[&<>\"']/g,function(m){return{'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',\"'\":'&#39;'}[m];});};exports.escape=escape;var toCamelCase=function toCamelCase(str){return str.trim().replace(/[-_\\s]+(.)?/g,function(_,c){return c?c.toUpperCase():'';});};exports.toCamelCase=toCamelCase;var random=function random(min,max){return Math.floor(Math.random()*(max-min+1)+min);};exports.random=random;var randomColor=function randomColor(){return\"#\".concat(Math.random().toString(16).slice(2,8).padEnd(6,'0'));};exports.randomColor=randomColor;var pause=function pause(millions){return new Promise(function(resolve){return setTimeout(resolve,millions);});};exports.pause=pause;var camelizeCamelCase=function camelizeCamelCase(str){return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g,function(letter,index){return index===0?letter.toLowerCase():letter.toUpperCase();}).replace(/\\s+/g,'');};exports.camelizeCamelCase=camelizeCamelCase;var copyTextToClipboard=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee(textToCopy){var _navigator;return _regenerator.default.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!((_navigator=navigator)!==null&&_navigator!==void 0&&(_navigator=_navigator.clipboard)!==null&&_navigator!==void 0&&_navigator.writeText)){_context.next=4;break;}_context.next=4;return navigator.clipboard.writeText(textToCopy);case 4:_context.next=8;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);case 8:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function copyTextToClipboard(_x){return _ref.apply(this,arguments);};}();exports.copyTextToClipboard=copyTextToClipboard;var getRandomId=function getRandomId(){var text='';var possible='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';// eslint-disable-next-line no-plusplus\nfor(var i=0;i<32;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length));}return text;};exports.getRandomId=getRandomId;var oneApiChat=function oneApiChat(chatList,token,signal){return fetch('https://api.openai.com/v1/chat/completions',{method:'POST',signal:signal,headers:{Authorization:token,'Content-Type':'application/json'},body:JSON.stringify({model:'gpt-3.5-turbo',messages:chatList,stream:true})});};exports.oneApiChat=oneApiChat;","export function resolveUrl(url, baseUrl) {\n    // url is absolute already\n    if (url.match(/^[a-z]+:\\/\\//i)) {\n        return url;\n    }\n    // url is absolute already, without protocol\n    if (url.match(/^\\/\\//)) {\n        return window.location.protocol + url;\n    }\n    // dataURI, mailto:, tel:, etc.\n    if (url.match(/^[a-z]+:/i)) {\n        return url;\n    }\n    const doc = document.implementation.createHTMLDocument();\n    const base = doc.createElement('base');\n    const a = doc.createElement('a');\n    doc.head.appendChild(base);\n    doc.body.appendChild(a);\n    if (baseUrl) {\n        base.href = baseUrl;\n    }\n    a.href = url;\n    return a.href;\n}\nexport const uuid = (() => {\n    // generate uuid for className of pseudo elements.\n    // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n    let counter = 0;\n    // ref: http://stackoverflow.com/a/6248722/2519373\n    const random = () => \n    // eslint-disable-next-line no-bitwise\n    `0000${((Math.random() * 36 ** 4) << 0).toString(36)}`.slice(-4);\n    return () => {\n        counter += 1;\n        return `u${random()}${counter}`;\n    };\n})();\nexport function delay(ms) {\n    return (args) => new Promise((resolve) => {\n        setTimeout(() => resolve(args), ms);\n    });\n}\nexport function toArray(arrayLike) {\n    const arr = [];\n    for (let i = 0, l = arrayLike.length; i < l; i++) {\n        arr.push(arrayLike[i]);\n    }\n    return arr;\n}\nfunction px(node, styleProperty) {\n    const win = node.ownerDocument.defaultView || window;\n    const val = win.getComputedStyle(node).getPropertyValue(styleProperty);\n    return val ? parseFloat(val.replace('px', '')) : 0;\n}\nfunction getNodeWidth(node) {\n    const leftBorder = px(node, 'border-left-width');\n    const rightBorder = px(node, 'border-right-width');\n    return node.clientWidth + leftBorder + rightBorder;\n}\nfunction getNodeHeight(node) {\n    const topBorder = px(node, 'border-top-width');\n    const bottomBorder = px(node, 'border-bottom-width');\n    return node.clientHeight + topBorder + bottomBorder;\n}\nexport function getImageSize(targetNode, options = {}) {\n    const width = options.width || getNodeWidth(targetNode);\n    const height = options.height || getNodeHeight(targetNode);\n    return { width, height };\n}\nexport function getPixelRatio() {\n    let ratio;\n    let FINAL_PROCESS;\n    try {\n        FINAL_PROCESS = process;\n    }\n    catch (e) {\n        // pass\n    }\n    const val = FINAL_PROCESS && FINAL_PROCESS.env\n        ? FINAL_PROCESS.env.devicePixelRatio\n        : null;\n    if (val) {\n        ratio = parseInt(val, 10);\n        if (Number.isNaN(ratio)) {\n            ratio = 1;\n        }\n    }\n    return ratio || window.devicePixelRatio || 1;\n}\n// @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nconst canvasDimensionLimit = 16384;\nexport function checkCanvasDimensions(canvas) {\n    if (canvas.width > canvasDimensionLimit ||\n        canvas.height > canvasDimensionLimit) {\n        if (canvas.width > canvasDimensionLimit &&\n            canvas.height > canvasDimensionLimit) {\n            if (canvas.width > canvas.height) {\n                canvas.height *= canvasDimensionLimit / canvas.width;\n                canvas.width = canvasDimensionLimit;\n            }\n            else {\n                canvas.width *= canvasDimensionLimit / canvas.height;\n                canvas.height = canvasDimensionLimit;\n            }\n        }\n        else if (canvas.width > canvasDimensionLimit) {\n            canvas.height *= canvasDimensionLimit / canvas.width;\n            canvas.width = canvasDimensionLimit;\n        }\n        else {\n            canvas.width *= canvasDimensionLimit / canvas.height;\n            canvas.height = canvasDimensionLimit;\n        }\n    }\n}\nexport function canvasToBlob(canvas, options = {}) {\n    if (canvas.toBlob) {\n        return new Promise((resolve) => {\n            canvas.toBlob(resolve, options.type ? options.type : 'image/png', options.quality ? options.quality : 1);\n        });\n    }\n    return new Promise((resolve) => {\n        const binaryString = window.atob(canvas\n            .toDataURL(options.type ? options.type : undefined, options.quality ? options.quality : undefined)\n            .split(',')[1]);\n        const len = binaryString.length;\n        const binaryArray = new Uint8Array(len);\n        for (let i = 0; i < len; i += 1) {\n            binaryArray[i] = binaryString.charCodeAt(i);\n        }\n        resolve(new Blob([binaryArray], {\n            type: options.type ? options.type : 'image/png',\n        }));\n    });\n}\nexport function createImage(url) {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.decode = () => resolve(img);\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        img.crossOrigin = 'anonymous';\n        img.decoding = 'async';\n        img.src = url;\n    });\n}\nexport async function svgToDataURL(svg) {\n    return Promise.resolve()\n        .then(() => new XMLSerializer().serializeToString(svg))\n        .then(encodeURIComponent)\n        .then((html) => `data:image/svg+xml;charset=utf-8,${html}`);\n}\nexport async function nodeToDataURL(node, width, height) {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttribute('width', `${width}`);\n    svg.setAttribute('height', `${height}`);\n    svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n    foreignObject.setAttribute('width', '100%');\n    foreignObject.setAttribute('height', '100%');\n    foreignObject.setAttribute('x', '0');\n    foreignObject.setAttribute('y', '0');\n    foreignObject.setAttribute('externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n    foreignObject.appendChild(node);\n    return svgToDataURL(svg);\n}\nexport const isInstanceOfElement = (node, instance) => {\n    if (node instanceof instance)\n        return true;\n    const nodePrototype = Object.getPrototypeOf(node);\n    if (nodePrototype === null)\n        return false;\n    return (nodePrototype.constructor.name === instance.name ||\n        isInstanceOfElement(nodePrototype, instance));\n};\n//# sourceMappingURL=util.js.map","import { uuid, toArray } from './util';\nfunction formatCSSText(style) {\n    const content = style.getPropertyValue('content');\n    return `${style.cssText} content: '${content.replace(/'|\"/g, '')}';`;\n}\nfunction formatCSSProperties(style) {\n    return toArray(style)\n        .map((name) => {\n        const value = style.getPropertyValue(name);\n        const priority = style.getPropertyPriority(name);\n        return `${name}: ${value}${priority ? ' !important' : ''};`;\n    })\n        .join(' ');\n}\nfunction getPseudoElementStyle(className, pseudo, style) {\n    const selector = `.${className}:${pseudo}`;\n    const cssText = style.cssText\n        ? formatCSSText(style)\n        : formatCSSProperties(style);\n    return document.createTextNode(`${selector}{${cssText}}`);\n}\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    const style = window.getComputedStyle(nativeNode, pseudo);\n    const content = style.getPropertyValue('content');\n    if (content === '' || content === 'none') {\n        return;\n    }\n    const className = uuid();\n    try {\n        clonedNode.className = `${clonedNode.className} ${className}`;\n    }\n    catch (err) {\n        return;\n    }\n    const styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.appendChild(styleElement);\n}\nexport function clonePseudoElements(nativeNode, clonedNode) {\n    clonePseudoElement(nativeNode, clonedNode, ':before');\n    clonePseudoElement(nativeNode, clonedNode, ':after');\n}\n//# sourceMappingURL=clone-pseudos.js.map","const WOFF = 'application/font-woff';\nconst JPEG = 'image/jpeg';\nconst mimes = {\n    woff: WOFF,\n    woff2: WOFF,\n    ttf: 'application/font-truetype',\n    eot: 'application/vnd.ms-fontobject',\n    png: 'image/png',\n    jpg: JPEG,\n    jpeg: JPEG,\n    gif: 'image/gif',\n    tiff: 'image/tiff',\n    svg: 'image/svg+xml',\n    webp: 'image/webp',\n};\nfunction getExtension(url) {\n    const match = /\\.([^./]*?)$/g.exec(url);\n    return match ? match[1] : '';\n}\nexport function getMimeType(url) {\n    const extension = getExtension(url).toLowerCase();\n    return mimes[extension] || '';\n}\n//# sourceMappingURL=mimes.js.map","function getContentFromDataUrl(dataURL) {\n    return dataURL.split(/,/)[1];\n}\nexport function isDataUrl(url) {\n    return url.search(/^(data:)/) !== -1;\n}\nexport function makeDataUrl(content, mimeType) {\n    return `data:${mimeType};base64,${content}`;\n}\nexport async function fetchAsDataURL(url, init, process) {\n    const res = await fetch(url, init);\n    if (res.status === 404) {\n        throw new Error(`Resource \"${res.url}\" not found`);\n    }\n    const blob = await res.blob();\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = () => {\n            try {\n                resolve(process({ res, result: reader.result }));\n            }\n            catch (error) {\n                reject(error);\n            }\n        };\n        reader.readAsDataURL(blob);\n    });\n}\nconst cache = {};\nfunction getCacheKey(url, contentType, includeQueryParams) {\n    let key = url.replace(/\\?.*/, '');\n    if (includeQueryParams) {\n        key = url;\n    }\n    // font resource\n    if (/ttf|otf|eot|woff2?/i.test(key)) {\n        key = key.replace(/.*\\//, '');\n    }\n    return contentType ? `[${contentType}]${key}` : key;\n}\nexport async function resourceToDataURL(resourceUrl, contentType, options) {\n    const cacheKey = getCacheKey(resourceUrl, contentType, options.includeQueryParams);\n    if (cache[cacheKey] != null) {\n        return cache[cacheKey];\n    }\n    // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n    if (options.cacheBust) {\n        // eslint-disable-next-line no-param-reassign\n        resourceUrl += (/\\?/.test(resourceUrl) ? '&' : '?') + new Date().getTime();\n    }\n    let dataURL;\n    try {\n        const content = await fetchAsDataURL(resourceUrl, options.fetchRequestInit, ({ res, result }) => {\n            if (!contentType) {\n                // eslint-disable-next-line no-param-reassign\n                contentType = res.headers.get('Content-Type') || '';\n            }\n            return getContentFromDataUrl(result);\n        });\n        dataURL = makeDataUrl(content, contentType);\n    }\n    catch (error) {\n        dataURL = options.imagePlaceholder || '';\n        let msg = `Failed to fetch resource: ${resourceUrl}`;\n        if (error) {\n            msg = typeof error === 'string' ? error : error.message;\n        }\n        if (msg) {\n            console.warn(msg);\n        }\n    }\n    cache[cacheKey] = dataURL;\n    return dataURL;\n}\n//# sourceMappingURL=dataurl.js.map","import { clonePseudoElements } from './clone-pseudos';\nimport { createImage, toArray, isInstanceOfElement } from './util';\nimport { getMimeType } from './mimes';\nimport { resourceToDataURL } from './dataurl';\nasync function cloneCanvasElement(canvas) {\n    const dataURL = canvas.toDataURL();\n    if (dataURL === 'data:,') {\n        return canvas.cloneNode(false);\n    }\n    return createImage(dataURL);\n}\nasync function cloneVideoElement(video, options) {\n    if (video.currentSrc) {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        canvas.width = video.clientWidth;\n        canvas.height = video.clientHeight;\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n        const dataURL = canvas.toDataURL();\n        return createImage(dataURL);\n    }\n    const poster = video.poster;\n    const contentType = getMimeType(poster);\n    const dataURL = await resourceToDataURL(poster, contentType, options);\n    return createImage(dataURL);\n}\nasync function cloneIFrameElement(iframe) {\n    var _a;\n    try {\n        if ((_a = iframe === null || iframe === void 0 ? void 0 : iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.body) {\n            return (await cloneNode(iframe.contentDocument.body, {}, true));\n        }\n    }\n    catch (_b) {\n        // Failed to clone iframe\n    }\n    return iframe.cloneNode(false);\n}\nasync function cloneSingleNode(node, options) {\n    if (isInstanceOfElement(node, HTMLCanvasElement)) {\n        return cloneCanvasElement(node);\n    }\n    if (isInstanceOfElement(node, HTMLVideoElement)) {\n        return cloneVideoElement(node, options);\n    }\n    if (isInstanceOfElement(node, HTMLIFrameElement)) {\n        return cloneIFrameElement(node);\n    }\n    return node.cloneNode(false);\n}\nconst isSlotElement = (node) => node.tagName != null && node.tagName.toUpperCase() === 'SLOT';\nasync function cloneChildren(nativeNode, clonedNode, options) {\n    var _a, _b;\n    let children = [];\n    if (isSlotElement(nativeNode) && nativeNode.assignedNodes) {\n        children = toArray(nativeNode.assignedNodes());\n    }\n    else if (isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n        ((_a = nativeNode.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n        children = toArray(nativeNode.contentDocument.body.childNodes);\n    }\n    else {\n        children = toArray(((_b = nativeNode.shadowRoot) !== null && _b !== void 0 ? _b : nativeNode).childNodes);\n    }\n    if (children.length === 0 ||\n        isInstanceOfElement(nativeNode, HTMLVideoElement)) {\n        return clonedNode;\n    }\n    await children.reduce((deferred, child) => deferred\n        .then(() => cloneNode(child, options))\n        .then((clonedChild) => {\n        if (clonedChild) {\n            clonedNode.appendChild(clonedChild);\n        }\n    }), Promise.resolve());\n    return clonedNode;\n}\nfunction cloneCSSStyle(nativeNode, clonedNode) {\n    const targetStyle = clonedNode.style;\n    if (!targetStyle) {\n        return;\n    }\n    const sourceStyle = window.getComputedStyle(nativeNode);\n    if (sourceStyle.cssText) {\n        targetStyle.cssText = sourceStyle.cssText;\n        targetStyle.transformOrigin = sourceStyle.transformOrigin;\n    }\n    else {\n        toArray(sourceStyle).forEach((name) => {\n            let value = sourceStyle.getPropertyValue(name);\n            if (name === 'font-size' && value.endsWith('px')) {\n                const reducedFont = Math.floor(parseFloat(value.substring(0, value.length - 2))) - 0.1;\n                value = `${reducedFont}px`;\n            }\n            if (isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n                name === 'display' &&\n                value === 'inline') {\n                value = 'block';\n            }\n            if (name === 'd' && clonedNode.getAttribute('d')) {\n                value = `path(${clonedNode.getAttribute('d')})`;\n            }\n            targetStyle.setProperty(name, value, sourceStyle.getPropertyPriority(name));\n        });\n    }\n}\nfunction cloneInputValue(nativeNode, clonedNode) {\n    if (isInstanceOfElement(nativeNode, HTMLTextAreaElement)) {\n        clonedNode.innerHTML = nativeNode.value;\n    }\n    if (isInstanceOfElement(nativeNode, HTMLInputElement)) {\n        clonedNode.setAttribute('value', nativeNode.value);\n    }\n}\nfunction cloneSelectValue(nativeNode, clonedNode) {\n    if (isInstanceOfElement(nativeNode, HTMLSelectElement)) {\n        const clonedSelect = clonedNode;\n        const selectedOption = Array.from(clonedSelect.children).find((child) => nativeNode.value === child.getAttribute('value'));\n        if (selectedOption) {\n            selectedOption.setAttribute('selected', '');\n        }\n    }\n}\nfunction decorate(nativeNode, clonedNode) {\n    if (isInstanceOfElement(clonedNode, Element)) {\n        cloneCSSStyle(nativeNode, clonedNode);\n        clonePseudoElements(nativeNode, clonedNode);\n        cloneInputValue(nativeNode, clonedNode);\n        cloneSelectValue(nativeNode, clonedNode);\n    }\n    return clonedNode;\n}\nasync function ensureSVGSymbols(clone, options) {\n    const uses = clone.querySelectorAll ? clone.querySelectorAll('use') : [];\n    if (uses.length === 0) {\n        return clone;\n    }\n    const processedDefs = {};\n    for (let i = 0; i < uses.length; i++) {\n        const use = uses[i];\n        const id = use.getAttribute('xlink:href');\n        if (id) {\n            const exist = clone.querySelector(id);\n            const definition = document.querySelector(id);\n            if (!exist && definition && !processedDefs[id]) {\n                // eslint-disable-next-line no-await-in-loop\n                processedDefs[id] = (await cloneNode(definition, options, true));\n            }\n        }\n    }\n    const nodes = Object.values(processedDefs);\n    if (nodes.length) {\n        const ns = 'http://www.w3.org/1999/xhtml';\n        const svg = document.createElementNS(ns, 'svg');\n        svg.setAttribute('xmlns', ns);\n        svg.style.position = 'absolute';\n        svg.style.width = '0';\n        svg.style.height = '0';\n        svg.style.overflow = 'hidden';\n        svg.style.display = 'none';\n        const defs = document.createElementNS(ns, 'defs');\n        svg.appendChild(defs);\n        for (let i = 0; i < nodes.length; i++) {\n            defs.appendChild(nodes[i]);\n        }\n        clone.appendChild(svg);\n    }\n    return clone;\n}\nexport async function cloneNode(node, options, isRoot) {\n    if (!isRoot && options.filter && !options.filter(node)) {\n        return null;\n    }\n    return Promise.resolve(node)\n        .then((clonedNode) => cloneSingleNode(clonedNode, options))\n        .then((clonedNode) => cloneChildren(node, clonedNode, options))\n        .then((clonedNode) => decorate(node, clonedNode))\n        .then((clonedNode) => ensureSVGSymbols(clonedNode, options));\n}\n//# sourceMappingURL=clone-node.js.map","import { resolveUrl } from './util';\nimport { getMimeType } from './mimes';\nimport { isDataUrl, makeDataUrl, resourceToDataURL } from './dataurl';\nconst URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nconst URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"']?)([^\"']+)\\1\\)/g;\nconst FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g;\nfunction toRegex(url) {\n    // eslint-disable-next-line no-useless-escape\n    const escaped = url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n    return new RegExp(`(url\\\\(['\"]?)(${escaped})(['\"]?\\\\))`, 'g');\n}\nexport function parseURLs(cssText) {\n    const urls = [];\n    cssText.replace(URL_REGEX, (raw, quotation, url) => {\n        urls.push(url);\n        return raw;\n    });\n    return urls.filter((url) => !isDataUrl(url));\n}\nexport async function embed(cssText, resourceURL, baseURL, options, getContentFromUrl) {\n    try {\n        const resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n        const contentType = getMimeType(resourceURL);\n        let dataURL;\n        if (getContentFromUrl) {\n            const content = await getContentFromUrl(resolvedURL);\n            dataURL = makeDataUrl(content, contentType);\n        }\n        else {\n            dataURL = await resourceToDataURL(resolvedURL, contentType, options);\n        }\n        return cssText.replace(toRegex(resourceURL), `$1${dataURL}$3`);\n    }\n    catch (error) {\n        // pass\n    }\n    return cssText;\n}\nfunction filterPreferredFontFormat(str, { preferredFontFormat }) {\n    return !preferredFontFormat\n        ? str\n        : str.replace(FONT_SRC_REGEX, (match) => {\n            // eslint-disable-next-line no-constant-condition\n            while (true) {\n                const [src, , format] = URL_WITH_FORMAT_REGEX.exec(match) || [];\n                if (!format) {\n                    return '';\n                }\n                if (format === preferredFontFormat) {\n                    return `src: ${src};`;\n                }\n            }\n        });\n}\nexport function shouldEmbed(url) {\n    return url.search(URL_REGEX) !== -1;\n}\nexport async function embedResources(cssText, baseUrl, options) {\n    if (!shouldEmbed(cssText)) {\n        return cssText;\n    }\n    const filteredCSSText = filterPreferredFontFormat(cssText, options);\n    const urls = parseURLs(filteredCSSText);\n    return urls.reduce((deferred, url) => deferred.then((css) => embed(css, url, baseUrl, options)), Promise.resolve(filteredCSSText));\n}\n//# sourceMappingURL=embed-resources.js.map","import { embedResources } from './embed-resources';\nimport { toArray, isInstanceOfElement } from './util';\nimport { isDataUrl, resourceToDataURL } from './dataurl';\nimport { getMimeType } from './mimes';\nasync function embedProp(propName, node, options) {\n    var _a;\n    const propValue = (_a = node.style) === null || _a === void 0 ? void 0 : _a.getPropertyValue(propName);\n    if (propValue) {\n        const cssString = await embedResources(propValue, null, options);\n        node.style.setProperty(propName, cssString, node.style.getPropertyPriority(propName));\n        return true;\n    }\n    return false;\n}\nasync function embedBackground(clonedNode, options) {\n    if (!(await embedProp('background', clonedNode, options))) {\n        await embedProp('background-image', clonedNode, options);\n    }\n    if (!(await embedProp('mask', clonedNode, options))) {\n        await embedProp('mask-image', clonedNode, options);\n    }\n}\nasync function embedImageNode(clonedNode, options) {\n    const isImageElement = isInstanceOfElement(clonedNode, HTMLImageElement);\n    if (!(isImageElement && !isDataUrl(clonedNode.src)) &&\n        !(isInstanceOfElement(clonedNode, SVGImageElement) &&\n            !isDataUrl(clonedNode.href.baseVal))) {\n        return;\n    }\n    const url = isImageElement ? clonedNode.src : clonedNode.href.baseVal;\n    const dataURL = await resourceToDataURL(url, getMimeType(url), options);\n    await new Promise((resolve, reject) => {\n        clonedNode.onload = resolve;\n        clonedNode.onerror = reject;\n        const image = clonedNode;\n        if (image.decode) {\n            image.decode = resolve;\n        }\n        if (image.loading === 'lazy') {\n            image.loading = 'eager';\n        }\n        if (isImageElement) {\n            clonedNode.srcset = '';\n            clonedNode.src = dataURL;\n        }\n        else {\n            clonedNode.href.baseVal = dataURL;\n        }\n    });\n}\nasync function embedChildren(clonedNode, options) {\n    const children = toArray(clonedNode.childNodes);\n    const deferreds = children.map((child) => embedImages(child, options));\n    await Promise.all(deferreds).then(() => clonedNode);\n}\nexport async function embedImages(clonedNode, options) {\n    if (isInstanceOfElement(clonedNode, Element)) {\n        await embedBackground(clonedNode, options);\n        await embedImageNode(clonedNode, options);\n        await embedChildren(clonedNode, options);\n    }\n}\n//# sourceMappingURL=embed-images.js.map","export function applyStyle(node, options) {\n    const { style } = node;\n    if (options.backgroundColor) {\n        style.backgroundColor = options.backgroundColor;\n    }\n    if (options.width) {\n        style.width = `${options.width}px`;\n    }\n    if (options.height) {\n        style.height = `${options.height}px`;\n    }\n    const manual = options.style;\n    if (manual != null) {\n        Object.keys(manual).forEach((key) => {\n            style[key] = manual[key];\n        });\n    }\n    return node;\n}\n//# sourceMappingURL=apply-style.js.map","import { toArray } from './util';\nimport { fetchAsDataURL } from './dataurl';\nimport { shouldEmbed, embedResources } from './embed-resources';\nconst cssFetchCache = {};\nasync function fetchCSS(url) {\n    let cache = cssFetchCache[url];\n    if (cache != null) {\n        return cache;\n    }\n    const res = await fetch(url);\n    const cssText = await res.text();\n    cache = { url, cssText };\n    cssFetchCache[url] = cache;\n    return cache;\n}\nasync function embedFonts(data, options) {\n    let cssText = data.cssText;\n    const regexUrl = /url\\([\"']?([^\"')]+)[\"']?\\)/g;\n    const fontLocs = cssText.match(/url\\([^)]+\\)/g) || [];\n    const loadFonts = fontLocs.map(async (loc) => {\n        let url = loc.replace(regexUrl, '$1');\n        if (!url.startsWith('https://')) {\n            url = new URL(url, data.url).href;\n        }\n        return fetchAsDataURL(url, options.fetchRequestInit, ({ result }) => {\n            cssText = cssText.replace(loc, `url(${result})`);\n            return [loc, result];\n        });\n    });\n    return Promise.all(loadFonts).then(() => cssText);\n}\nfunction parseCSS(source) {\n    if (source == null) {\n        return [];\n    }\n    const result = [];\n    const commentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi;\n    // strip out comments\n    let cssText = source.replace(commentsRegex, '');\n    // eslint-disable-next-line prefer-regex-literals\n    const keyframesRegex = new RegExp('((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})', 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        const matches = keyframesRegex.exec(cssText);\n        if (matches === null) {\n            break;\n        }\n        result.push(matches[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi;\n    // to match css & media queries together\n    const combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' +\n        '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})';\n    // unified regex\n    const unifiedRegex = new RegExp(combinedCSSRegex, 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        let matches = importRegex.exec(cssText);\n        if (matches === null) {\n            matches = unifiedRegex.exec(cssText);\n            if (matches === null) {\n                break;\n            }\n            else {\n                importRegex.lastIndex = unifiedRegex.lastIndex;\n            }\n        }\n        else {\n            unifiedRegex.lastIndex = importRegex.lastIndex;\n        }\n        result.push(matches[0]);\n    }\n    return result;\n}\nasync function getCSSRules(styleSheets, options) {\n    const ret = [];\n    const deferreds = [];\n    // First loop inlines imports\n    styleSheets.forEach((sheet) => {\n        if ('cssRules' in sheet) {\n            try {\n                toArray(sheet.cssRules || []).forEach((item, index) => {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                        let importIndex = index + 1;\n                        const url = item.href;\n                        const deferred = fetchCSS(url)\n                            .then((metadata) => embedFonts(metadata, options))\n                            .then((cssText) => parseCSS(cssText).forEach((rule) => {\n                            try {\n                                sheet.insertRule(rule, rule.startsWith('@import')\n                                    ? (importIndex += 1)\n                                    : sheet.cssRules.length);\n                            }\n                            catch (error) {\n                                console.error('Error inserting rule from remote css', {\n                                    rule,\n                                    error,\n                                });\n                            }\n                        }))\n                            .catch((e) => {\n                            console.error('Error loading remote css', e.toString());\n                        });\n                        deferreds.push(deferred);\n                    }\n                });\n            }\n            catch (e) {\n                const inline = styleSheets.find((a) => a.href == null) || document.styleSheets[0];\n                if (sheet.href != null) {\n                    deferreds.push(fetchCSS(sheet.href)\n                        .then((metadata) => embedFonts(metadata, options))\n                        .then((cssText) => parseCSS(cssText).forEach((rule) => {\n                        inline.insertRule(rule, sheet.cssRules.length);\n                    }))\n                        .catch((err) => {\n                        console.error('Error loading remote stylesheet', err);\n                    }));\n                }\n                console.error('Error inlining remote css file', e);\n            }\n        }\n    });\n    return Promise.all(deferreds).then(() => {\n        // Second loop parses rules\n        styleSheets.forEach((sheet) => {\n            if ('cssRules' in sheet) {\n                try {\n                    toArray(sheet.cssRules || []).forEach((item) => {\n                        ret.push(item);\n                    });\n                }\n                catch (e) {\n                    console.error(`Error while reading CSS rules from ${sheet.href}`, e);\n                }\n            }\n        });\n        return ret;\n    });\n}\nfunction getWebFontRules(cssRules) {\n    return cssRules\n        .filter((rule) => rule.type === CSSRule.FONT_FACE_RULE)\n        .filter((rule) => shouldEmbed(rule.style.getPropertyValue('src')));\n}\nasync function parseWebFontRules(node, options) {\n    if (node.ownerDocument == null) {\n        throw new Error('Provided element is not within a Document');\n    }\n    const styleSheets = toArray(node.ownerDocument.styleSheets);\n    const cssRules = await getCSSRules(styleSheets, options);\n    return getWebFontRules(cssRules);\n}\nexport async function getWebFontCSS(node, options) {\n    const rules = await parseWebFontRules(node, options);\n    const cssTexts = await Promise.all(rules.map((rule) => {\n        const baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n        return embedResources(rule.cssText, baseUrl, options);\n    }));\n    return cssTexts.join('\\n');\n}\nexport async function embedWebFonts(clonedNode, options) {\n    const cssText = options.fontEmbedCSS != null\n        ? options.fontEmbedCSS\n        : options.skipFonts\n            ? null\n            : await getWebFontCSS(clonedNode, options);\n    if (cssText) {\n        const styleNode = document.createElement('style');\n        const sytleContent = document.createTextNode(cssText);\n        styleNode.appendChild(sytleContent);\n        if (clonedNode.firstChild) {\n            clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n        }\n        else {\n            clonedNode.appendChild(styleNode);\n        }\n    }\n}\n//# sourceMappingURL=embed-webfonts.js.map","import { cloneNode } from './clone-node';\nimport { embedImages } from './embed-images';\nimport { applyStyle } from './apply-style';\nimport { embedWebFonts, getWebFontCSS } from './embed-webfonts';\nimport { getImageSize, getPixelRatio, createImage, canvasToBlob, nodeToDataURL, checkCanvasDimensions, } from './util';\nexport async function toSvg(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const clonedNode = (await cloneNode(node, options, true));\n    await embedWebFonts(clonedNode, options);\n    await embedImages(clonedNode, options);\n    applyStyle(clonedNode, options);\n    const datauri = await nodeToDataURL(clonedNode, width, height);\n    return datauri;\n}\nexport async function toCanvas(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const svg = await toSvg(node, options);\n    const img = await createImage(svg);\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    const ratio = options.pixelRatio || getPixelRatio();\n    const canvasWidth = options.canvasWidth || width;\n    const canvasHeight = options.canvasHeight || height;\n    canvas.width = canvasWidth * ratio;\n    canvas.height = canvasHeight * ratio;\n    if (!options.skipAutoScale) {\n        checkCanvasDimensions(canvas);\n    }\n    canvas.style.width = `${canvasWidth}`;\n    canvas.style.height = `${canvasHeight}`;\n    if (options.backgroundColor) {\n        context.fillStyle = options.backgroundColor;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    context.drawImage(img, 0, 0, canvas.width, canvas.height);\n    return canvas;\n}\nexport async function toPixelData(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const canvas = await toCanvas(node, options);\n    const ctx = canvas.getContext('2d');\n    return ctx.getImageData(0, 0, width, height).data;\n}\nexport async function toPng(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    return canvas.toDataURL();\n}\nexport async function toJpeg(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    return canvas.toDataURL('image/jpeg', options.quality || 1);\n}\nexport async function toBlob(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    const blob = await canvasToBlob(canvas);\n    return blob;\n}\nexport async function getFontEmbedCSS(node, options = {}) {\n    return getWebFontCSS(node, options);\n}\n//# sourceMappingURL=index.js.map","module.exports = function(md, options) {\n  options = options || {};\n  options.listUnicodeChar = options.hasOwnProperty('listUnicodeChar') ? options.listUnicodeChar : false;\n  options.stripListLeaders = options.hasOwnProperty('stripListLeaders') ? options.stripListLeaders : true;\n  options.gfm = options.hasOwnProperty('gfm') ? options.gfm : true;\n  options.useImgAltText = options.hasOwnProperty('useImgAltText') ? options.useImgAltText : true;\n  options.abbr = options.hasOwnProperty('abbr') ? options.abbr : false;\n  options.replaceLinksWithURL = options.hasOwnProperty('replaceLinksWithURL') ? options.replaceLinksWithURL : false;\n  options.htmlTagsToSkip = options.hasOwnProperty('htmlTagsToSkip') ? options.htmlTagsToSkip : [];\n\n  var output = md || '';\n\n  // Remove horizontal rules (stripListHeaders conflict with this rule, which is why it has been moved to the top)\n  output = output.replace(/^(-\\s*?|\\*\\s*?|_\\s*?){3,}\\s*/gm, '');\n\n  try {\n    if (options.stripListLeaders) {\n      if (options.listUnicodeChar)\n        output = output.replace(/^([\\s\\t]*)([\\*\\-\\+]|\\d+\\.)\\s+/gm, options.listUnicodeChar + ' $1');\n      else\n        output = output.replace(/^([\\s\\t]*)([\\*\\-\\+]|\\d+\\.)\\s+/gm, '$1');\n    }\n    if (options.gfm) {\n      output = output\n      // Header\n        .replace(/\\n={2,}/g, '\\n')\n        // Fenced codeblocks\n        .replace(/~{3}.*\\n/g, '')\n        // Strikethrough\n        .replace(/~~/g, '')\n        // Fenced codeblocks\n        .replace(/`{3}.*\\n/g, '');\n    }\n    if (options.abbr) {\n      // Remove abbreviations\n      output = output.replace(/\\*\\[.*\\]:.*\\n/, '');\n    }\n    output = output\n    // Remove HTML tags\n      .replace(/<[^>]*>/g, '')\n\n    var htmlReplaceRegex = new RegExp('<[^>]*>', 'g');\n    if (options.htmlTagsToSkip.length > 0) {\n      // Using negative lookahead. Eg. (?!sup|sub) will not match 'sup' and 'sub' tags.\n      var joinedHtmlTagsToSkip = '(?!' + options.htmlTagsToSkip.join(\"|\") + ')';\n\n      // Adding the lookahead literal with the default regex for html. Eg./<(?!sup|sub)[^>]*>/ig\n      htmlReplaceRegex = new RegExp(\n          '<' +\n          joinedHtmlTagsToSkip +\n          '[^>]*>', \n          'ig'\n      );\n    }\n\n    output = output\n      // Remove HTML tags\n      .replace(htmlReplaceRegex, '')\n      // Remove setext-style headers\n      .replace(/^[=\\-]{2,}\\s*$/g, '')\n      // Remove footnotes?\n      .replace(/\\[\\^.+?\\](\\: .*?$)?/g, '')\n      .replace(/\\s{0,2}\\[.*?\\]: .*?$/g, '')\n      // Remove images\n      .replace(/\\!\\[(.*?)\\][\\[\\(].*?[\\]\\)]/g, options.useImgAltText ? '$1' : '')\n      // Remove inline links\n      .replace(/\\[([^\\]]*?)\\][\\[\\(].*?[\\]\\)]/g, options.replaceLinksWithURL ? '$2' : '$1')\n      // Remove blockquotes\n      .replace(/^\\s{0,3}>\\s?/gm, '')\n      // .replace(/(^|\\n)\\s{0,3}>\\s?/g, '\\n\\n')\n      // Remove reference-style links?\n      .replace(/^\\s{1,2}\\[(.*?)\\]: (\\S+)( \".*?\")?\\s*$/g, '')\n      // Remove atx-style headers\n      .replace(/^(\\n)?\\s{0,}#{1,6}\\s+| {0,}(\\n)?\\s{0,}#{0,} #{0,}(\\n)?\\s{0,}$/gm, '$1$2$3')\n      // Remove * emphasis\n      .replace(/([\\*]+)(\\S)(.*?\\S)??\\1/g, '$2$3')\n      // Remove _ emphasis. Unlike *, _ emphasis gets rendered only if \n      //   1. Either there is a whitespace character before opening _ and after closing _.\n      //   2. Or _ is at the start/end of the string.\n      .replace(/(^|\\W)([_]+)(\\S)(.*?\\S)??\\2($|\\W)/g, '$1$3$4$5')\n      // Remove code blocks\n      .replace(/(`{3,})(.*?)\\1/gm, '$2')\n      // Remove inline code\n      .replace(/`(.+?)`/g, '$1')\n      // // Replace two or more newlines with exactly two? Not entirely sure this belongs here...\n      // .replace(/\\n{2,}/g, '\\n\\n')\n      // // Remove newlines in a paragraph\n      // .replace(/(\\S+)\\n\\s*(\\S+)/g, '$1 $2')\n      // Replace strike through\n      .replace(/~(.*?)~/g, '$1');\n  } catch(e) {\n    console.error(e);\n    return md;\n  }\n  return output;\n};\n","/**\n * Copyright (C) 2016 Maxime Petazzoni <maxime.petazzoni@bulix.org>.\n * All rights reserved.\n */\n\nvar SSE = function (url, options) {\n  if (!(this instanceof SSE)) {\n    return new SSE(url, options);\n  }\n\n  this.INITIALIZING = -1;\n  this.CONNECTING = 0;\n  this.OPEN = 1;\n  this.CLOSED = 2;\n\n  this.url = url;\n\n  options = options || {};\n  this.headers = options.headers || {};\n  this.payload = options.payload !== undefined ? options.payload : '';\n  this.method = options.method || (this.payload && 'POST' || 'GET');\n  this.withCredentials = !!options.withCredentials;\n\n  this.FIELD_SEPARATOR = ':';\n  this.listeners = {};\n\n  this.xhr = null;\n  this.readyState = this.INITIALIZING;\n  this.progress = 0;\n  this.chunk = '';\n\n  this.addEventListener = function(type, listener) {\n    if (this.listeners[type] === undefined) {\n      this.listeners[type] = [];\n    }\n\n    if (this.listeners[type].indexOf(listener) === -1) {\n      this.listeners[type].push(listener);\n    }\n  };\n\n  this.removeEventListener = function(type, listener) {\n    if (this.listeners[type] === undefined) {\n      return;\n    }\n\n    var filtered = [];\n    this.listeners[type].forEach(function(element) {\n      if (element !== listener) {\n        filtered.push(element);\n      }\n    });\n    if (filtered.length === 0) {\n      delete this.listeners[type];\n    } else {\n      this.listeners[type] = filtered;\n    }\n  };\n\n  this.dispatchEvent = function(e) {\n    if (!e) {\n      return true;\n    }\n\n    e.source = this;\n\n    var onHandler = 'on' + e.type;\n    if (this.hasOwnProperty(onHandler)) {\n      this[onHandler].call(this, e);\n      if (e.defaultPrevented) {\n        return false;\n      }\n    }\n\n    if (this.listeners[e.type]) {\n      return this.listeners[e.type].every(function(callback) {\n        callback(e);\n        return !e.defaultPrevented;\n      });\n    }\n\n    return true;\n  };\n\n  this._setReadyState = function(state) {\n    var event = new CustomEvent('readystatechange');\n    event.readyState = state;\n    this.readyState = state;\n    this.dispatchEvent(event);\n  };\n\n  this._onStreamFailure = function(e) {\n    var event = new CustomEvent('error');\n    event.data = e.currentTarget.response;\n    this.dispatchEvent(event);\n    this.close();\n  }\n\n  this._onStreamAbort = function(e) {\n    this.dispatchEvent(new CustomEvent('abort'));\n    this.close();\n  }\n\n  this._onStreamProgress = function(e) {\n    if (!this.xhr) {\n      return;\n    }\n\n    if (this.xhr.status !== 200) {\n      this._onStreamFailure(e);\n      return;\n    }\n\n    if (this.readyState == this.CONNECTING) {\n      this.dispatchEvent(new CustomEvent('open'));\n      this._setReadyState(this.OPEN);\n    }\n\n    var data = this.xhr.responseText.substring(this.progress);\n    this.progress += data.length;\n    data.split(/(\\r\\n|\\r|\\n){2}/g).forEach(function(part) {\n      if (part.trim().length === 0) {\n        this.dispatchEvent(this._parseEventChunk(this.chunk.trim()));\n        this.chunk = '';\n      } else {\n        this.chunk += part;\n      }\n    }.bind(this));\n  };\n\n  this._onStreamLoaded = function(e) {\n    this._onStreamProgress(e);\n\n    // Parse the last chunk.\n    this.dispatchEvent(this._parseEventChunk(this.chunk));\n    this.chunk = '';\n  };\n\n  /**\n   * Parse a received SSE event chunk into a constructed event object.\n   */\n  this._parseEventChunk = function(chunk) {\n    if (!chunk || chunk.length === 0) {\n      return null;\n    }\n\n    var e = {'id': null, 'retry': null, 'data': '', 'event': 'message'};\n    chunk.split(/\\n|\\r\\n|\\r/).forEach(function(line) {\n      line = line.trimRight();\n      var index = line.indexOf(this.FIELD_SEPARATOR);\n      if (index <= 0) {\n        // Line was either empty, or started with a separator and is a comment.\n        // Either way, ignore.\n        return;\n      }\n\n      var field = line.substring(0, index);\n      if (!(field in e)) {\n        return;\n      }\n\n      var value = line.substring(index + 1).trimLeft();\n      if (field === 'data') {\n        e[field] += value;\n      } else {\n        e[field] = value;\n      }\n    }.bind(this));\n\n    var event = new CustomEvent(e.event);\n    event.data = e.data;\n    event.id = e.id;\n    return event;\n  };\n\n  this._checkStreamClosed = function() {\n    if (!this.xhr) {\n      return;\n    }\n\n    if (this.xhr.readyState === XMLHttpRequest.DONE) {\n      this._setReadyState(this.CLOSED);\n    }\n  };\n\n  this.stream = function() {\n    this._setReadyState(this.CONNECTING);\n\n    this.xhr = new XMLHttpRequest();\n    this.xhr.addEventListener('progress', this._onStreamProgress.bind(this));\n    this.xhr.addEventListener('load', this._onStreamLoaded.bind(this));\n    this.xhr.addEventListener('readystatechange', this._checkStreamClosed.bind(this));\n    this.xhr.addEventListener('error', this._onStreamFailure.bind(this));\n    this.xhr.addEventListener('abort', this._onStreamAbort.bind(this));\n    this.xhr.open(this.method, this.url);\n    for (var header in this.headers) {\n      this.xhr.setRequestHeader(header, this.headers[header]);\n    }\n    this.xhr.withCredentials = this.withCredentials;\n    this.xhr.send(this.payload);\n  };\n\n  this.close = function() {\n    if (this.readyState === this.CLOSED) {\n      return;\n    }\n\n    this.xhr.abort();\n    this.xhr = null;\n    this._setReadyState(this.CLOSED);\n  };\n};\n\n// Export our SSE module for npm.js\nif (typeof exports !== 'undefined') {\n  exports.SSE = SSE;\n}\n"],"names":["_interopRequireDefault","_typeof","exports","_slicedToArray2","_react","_interopRequireWildcard","_markmap","_FixTabPanel","_reactMarkdown","_remarkGfm","_htmlToImage","_antd","_icons","_aidFn","_sse","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","obj","cache","newObj","hasPropertyDescriptor","key","desc","ChatGpt","markmapRef","_Form$useForm","_Form$useForm2","form","apiResultRef","_useState","_useState2","apiResult","setApiResult","_useState3","_useState4","readyState","setReadyState","_useState5","_useState6","apiKey","setApiKey","bottomRef","_useState7","_useState8","structureResult","setStructureResult","_useState9","_useState10","structureReadyState","setStructureReadyState","structureResultRef","_bottomRef$current","onChange","event","onFinish","values","text","source","e","payload","content","onButtonClick","dataUrl","link","err","removeMd","copyToClipboard","buildStructure","_ref","_ref2","_default","initSSE","apiContent","_regenerator","_asyncToGenerator2","_toConsumableArray2","_typeof2","_qs","getEnv","env","process","isArray","val","isURLSearchParams","isDate","isObject","getParamObject","reqStringify","getType","type","hidePhone","phone","asyncAction","action","wait","cb","getImgsUrl","html","imgReg","srcReg","arr","urlArr","prev","next","src","customizeTimer","interval","_this","now","stime","etime","loop","_this2","isDecimal","value","reg","limitDecimal","checkIsLocalPage","randomHex","clearCookies","cookie","dayDif","date1","date2","capitalize","str","isNotEmpty","isDarkMode","fetchSomething","resolve","toFixed","number","m","result","toFixedBug","fixed","promiseWithTimeout","promise","timeout","timeoutPromise","shuffleArr","sleep","time","ThousandNum","num","RandomId","len","RoundNum","decimal","randomNum","min","max","isEmptyArray","randomItem","asyncTo","data","hasFocus","element","isEqual","a","b","randomString","escape","toCamelCase","_","c","random","randomColor","pause","millions","camelizeCamelCase","letter","index","copyTextToClipboard","_callee","textToCopy","_navigator","_context","_x","getRandomId","possible","i","oneApiChat","chatList","token","signal","resolveUrl","url","baseUrl","doc","base","uuid","counter","delay","ms","args","toArray","arrayLike","l","px","node","styleProperty","getNodeWidth","leftBorder","rightBorder","getNodeHeight","topBorder","bottomBorder","getImageSize","targetNode","options","width","height","getPixelRatio","ratio","FINAL_PROCESS","canvasDimensionLimit","checkCanvasDimensions","canvas","canvasToBlob","binaryString","binaryArray","createImage","reject","img","svgToDataURL","svg","nodeToDataURL","xmlns","foreignObject","isInstanceOfElement","instance","nodePrototype","formatCSSText","style","formatCSSProperties","name","priority","getPseudoElementStyle","className","pseudo","selector","cssText","clonePseudoElement","nativeNode","clonedNode","styleElement","clonePseudoElements","WOFF","JPEG","mimes","getExtension","match","getMimeType","extension","getContentFromDataUrl","dataURL","isDataUrl","makeDataUrl","mimeType","fetchAsDataURL","init","res","blob","reader","error","getCacheKey","contentType","includeQueryParams","resourceToDataURL","resourceUrl","cacheKey","msg","console","cloneCanvasElement","cloneVideoElement","video","ctx","poster","cloneIFrameElement","iframe","_a","cloneNode","_b","cloneSingleNode","isSlotElement","cloneChildren","children","deferred","child","clonedChild","cloneCSSStyle","targetStyle","sourceStyle","cloneInputValue","cloneSelectValue","clonedSelect","selectedOption","decorate","ensureSVGSymbols","clone","uses","processedDefs","id","exist","definition","nodes","ns","defs","isRoot","URL_REGEX","URL_WITH_FORMAT_REGEX","FONT_SRC_REGEX","toRegex","escaped","parseURLs","urls","raw","quotation","resourceURL","baseURL","getContentFromUrl","resolvedURL","filterPreferredFontFormat","preferredFontFormat","format","shouldEmbed","embedResources","filteredCSSText","css","embedProp","propName","propValue","cssString","embedBackground","embedImageNode","isImageElement","image","embedChildren","deferreds","embedImages","applyStyle","manual","cssFetchCache","fetchCSS","embedFonts","regexUrl","loadFonts","loc","parseCSS","commentsRegex","keyframesRegex","matches","importRegex","combinedCSSRegex","unifiedRegex","getCSSRules","styleSheets","ret","sheet","item","importIndex","metadata","rule","inline","getWebFontRules","cssRules","parseWebFontRules","getWebFontCSS","rules","embedWebFonts","styleNode","sytleContent","toSvg","toCanvas","context","canvasWidth","canvasHeight","toPixelData","toPng","toJpeg","toBlob","getFontEmbedCSS","module","md","output","htmlReplaceRegex","joinedHtmlTagsToSkip","SSE","listener","filtered","onHandler","callback","state","part","chunk","line","field","header"],"sourceRoot":""}