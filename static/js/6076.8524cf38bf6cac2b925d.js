"use strict";var X=(ft,it,j)=>new Promise((h,_)=>{var q=K=>{try{tt(j.next(K))}catch(st){_(st)}},et=K=>{try{tt(j.throw(K))}catch(st){_(st)}},tt=K=>K.done?h(K.value):Promise.resolve(K.value).then(q,et);tt((j=j.apply(ft,it)).next())});(self.webpackChunkpro_react_admin=self.webpackChunkpro_react_admin||[]).push([[6076],{80737:function(ft,it,j){j.d(it,{c:function(){return Y}});var h=j(24698),_=j(25260),q=j(18464);function et(x){const d=x.replace(/\n{2,}/g,`
`);return(0,q.Z)(d)}function tt(x){const d=et(x),{children:p}=(0,_.V)(d),u=[[]];let b=0;function E(k,N="normal"){k.type==="text"?k.value.split(`
`).forEach((M,A)=>{A!==0&&(b++,u.push([])),M.split(" ").forEach(R=>{R&&u[b].push({content:R,type:N})})}):(k.type==="strong"||k.type==="emphasis")&&k.children.forEach(H=>{E(H,k.type)})}return p.forEach(k=>{k.type==="paragraph"&&k.children.forEach(N=>{E(N)})}),u}function K(x){const{children:d}=(0,_.V)(x);function p(u){return u.type==="text"?u.value.replace(/\n/g,"<br/>"):u.type==="strong"?`<strong>${u.children.map(p).join("")}</strong>`:u.type==="emphasis"?`<em>${u.children.map(p).join("")}</em>`:u.type==="paragraph"?`<p>${u.children.map(p).join("")}</p>`:`Unsupported markdown: ${u.type}`}return d.map(p).join("")}function st(x){return Intl.Segmenter?[...new Intl.Segmenter().segment(x)].map(d=>d.segment):[...x]}function lt(x,d){const p=st(d.content);return ct(x,[],p,d.type)}function ct(x,d,p,u){if(p.length===0)return[{content:d.join(""),type:u},{content:"",type:u}];const[b,...E]=p,k=[...d,b];return x([{content:k.join(""),type:u}])?ct(x,k,E,u):(d.length===0&&b&&(d.push(b),p.shift()),[{content:d.join(""),type:u},{content:p.join(""),type:u}])}function dt(x,d){if(x.some(({content:p})=>p.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return ot(x,d)}function ot(x,d,p=[],u=[]){var N;if(x.length===0)return u.length>0&&p.push(u),p.length>0?p:[];let b="";x[0].content===" "&&(b=" ",x.shift());const E=(N=x.shift())!=null?N:{content:" ",type:"normal"},k=[...u];if(b!==""&&k.push({content:b,type:"normal"}),k.push(E),d(k))return ot(x,d,p,k);if(u.length>0)p.push(u),x.unshift(E);else if(E.content){const[H,M]=lt(d,E);p.push([H]),M.content&&x.unshift(M)}return ot(x,d,p)}function B(x,d){d&&x.attr("style",d)}function L(x,d,p,u,b=!1){const E=x.append("foreignObject"),k=E.append("xhtml:div"),N=d.label,H=d.isNode?"nodeLabel":"edgeLabel";k.html(`
    <span class="${H} ${u}" `+(d.labelStyle?'style="'+d.labelStyle+'"':"")+">"+N+"</span>"),B(k,d.labelStyle),k.style("display","table-cell"),k.style("white-space","nowrap"),k.style("max-width",p+"px"),k.attr("xmlns","http://www.w3.org/1999/xhtml"),b&&k.attr("class","labelBkg");let M=k.node().getBoundingClientRect();return M.width===p&&(k.style("display","table"),k.style("white-space","break-spaces"),k.style("width",p+"px"),M=k.node().getBoundingClientRect()),E.style("width",M.width),E.style("height",M.height),E.node()}function f(x,d,p){return x.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",d*p-.1+"em").attr("dy",p+"em")}function W(x,d,p){const u=x.append("text"),b=f(u,1,d);$(b,p);const E=b.node().getComputedTextLength();return u.remove(),E}function O(x,d,p,u=!1){const E=d.append("g"),k=E.insert("rect").attr("class","background"),N=E.append("text").attr("y","-10.1");let H=0;for(const M of p){const A=Z=>W(E,1.1,Z)<=x,R=A(M)?[M]:dt(M,A);for(const Z of R){const T=f(N,H,1.1);$(T,Z),H++}}if(u){const M=N.node().getBBox(),A=2;return k.attr("x",-A).attr("y",-A).attr("width",M.width+2*A).attr("height",M.height+2*A),E.node()}else return N.node()}function $(x,d){x.text(""),d.forEach((p,u)=>{const b=x.append("tspan").attr("font-style",p.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",p.type==="strong"?"bold":"normal");u===0?b.text(p.content):b.text(" "+p.content)})}const Y=(x,d="",{style:p="",isTitle:u=!1,classes:b="",useHtmlLabels:E=!0,isNode:k=!0,width:N=200,addSvgBackground:H=!1}={})=>{if(h.l.info("createText",d,p,u,b,E,k,H),E){const M=K(d),A={isNode:k,label:(0,h.L)(M).replace(/fa[blrs]?:fa-[\w-]+/g,Z=>`<i class='${Z.replace(":"," ")}'></i>`),labelStyle:p.replace("fill:","color:")};return L(x,A,N,b,H)}else{const M=tt(d);return O(N,x,M,H)}}},96076:function(ft,it,j){j.d(it,{a:function(){return O},b:function(){return Pt},c:function(){return d},d:function(){return Kt},e:function(){return Dt},f:function(){return zt},g:function(){return Vt},h:function(){return Ft},i:function(){return Z},l:function(){return p},p:function(){return Zt},s:function(){return Xt},u:function(){return u}});var h=j(24698),_=j(24631),q=j(80737),et=j(27863);const tt=(r,t,e,n)=>{t.forEach(a=>{W[a](r,e,n)})},W={extension:(r,t,e)=>{h.l.trace("Making markers for ",e),r.append("defs").append("marker").attr("id",t+"-extensionStart").attr("class","marker extension "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),r.append("defs").append("marker").attr("id",t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),r.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),r.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),r.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(r,t)=>{r.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),r.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(r,t)=>{r.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),r.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(r,t)=>{r.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),r.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},O=tt;function $(r,t){t&&r.attr("style",t)}function Y(r){const t=(0,_.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),e=t.append("xhtml:div"),n=r.label,a=r.isNode?"nodeLabel":"edgeLabel";return e.html('<span class="'+a+'" '+(r.labelStyle?'style="'+r.labelStyle+'"':"")+">"+n+"</span>"),$(e,r.labelStyle),e.style("display","inline-block"),e.style("white-space","nowrap"),e.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}const d=(r,t,e,n)=>{let a=r||"";if(typeof a=="object"&&(a=a[0]),(0,h.n)((0,h.c)().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),h.l.info("vertexText"+a);const s={isNode:n,label:(0,h.L)(a).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return Y(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let i=[];typeof a=="string"?i=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?i=a:i=[];for(const l of i){const c=document.createElementNS("http://www.w3.org/2000/svg","tspan");c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),c.setAttribute("dy","1em"),c.setAttribute("x","0"),e?c.setAttribute("class","title-row"):c.setAttribute("class","row"),c.textContent=l.trim(),s.appendChild(c)}return s}},p=(r,t,e,n)=>X(this,null,function*(){let a;const s=t.useHtmlLabels||(0,h.n)((0,h.c)().flowchart.htmlLabels);e?a=e:a="node default";const i=r.insert("g").attr("class",a).attr("id",t.domId||t.id),l=i.insert("g").attr("class","label").attr("style",t.labelStyle);let c;t.labelText===void 0?c="":c=typeof t.labelText=="string"?t.labelText:t.labelText[0];const g=l.node();let o;t.labelType==="markdown"?o=(0,q.c)(l,(0,h.d)((0,h.L)(c),(0,h.c)()),{useHtmlLabels:s,width:t.width||(0,h.c)().flowchart.wrappingWidth,classes:"markdown-node-label"}):o=g.appendChild(d((0,h.d)((0,h.L)(c),(0,h.c)()),t.labelStyle,!1,n));let y=o.getBBox();const S=t.padding/2;if((0,h.n)((0,h.c)().flowchart.htmlLabels)){const w=o.children[0],m=(0,_.Ys)(o),v=w.getElementsByTagName("img");if(v){const C=c.replace(/<img[^>]*>/g,"").trim()==="";yield Promise.all([...v].map(I=>new Promise(Q=>{function V(){if(I.style.display="flex",I.style.flexDirection="column",C){const F=(0,h.c)().fontSize?(0,h.c)().fontSize:window.getComputedStyle(document.body).fontSize,nt=5;I.style.width=parseInt(F,10)*nt+"px"}else I.style.width="100%";Q(I)}setTimeout(()=>{I.complete&&V()}),I.addEventListener("error",V),I.addEventListener("load",V)})))}y=w.getBoundingClientRect(),m.attr("width",y.width),m.attr("height",y.height)}return s?l.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"):l.attr("transform","translate(0, "+-y.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:i,bbox:y,halfPadding:S,label:l}}),u=(r,t)=>{const e=t.node().getBBox();r.width=e.width,r.height=e.height};function b(r,t,e,n){return r.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+e/2+")")}function E(r,t){return r.intersect(t)}function k(r,t,e,n){var a=r.x,s=r.y,i=a-n.x,l=s-n.y,c=Math.sqrt(t*t*l*l+e*e*i*i),g=Math.abs(t*e*i/c);n.x<a&&(g=-g);var o=Math.abs(t*e*l/c);return n.y<s&&(o=-o),{x:a+g,y:s+o}}function N(r,t,e){return k(r,t,t,e)}function H(r,t,e,n){var a,s,i,l,c,g,o,y,S,w,m,v,C,I,Q;if(a=t.y-r.y,i=r.x-t.x,c=t.x*r.y-r.x*t.y,S=a*e.x+i*e.y+c,w=a*n.x+i*n.y+c,!(S!==0&&w!==0&&M(S,w))&&(s=n.y-e.y,l=e.x-n.x,g=n.x*e.y-e.x*n.y,o=s*r.x+l*r.y+g,y=s*t.x+l*t.y+g,!(o!==0&&y!==0&&M(o,y))&&(m=a*l-s*i,m!==0)))return v=Math.abs(m/2),C=i*g-l*c,I=C<0?(C-v)/m:(C+v)/m,C=s*c-a*g,Q=C<0?(C-v)/m:(C+v)/m,{x:I,y:Q}}function M(r,t){return r*t>0}function A(r,t,e){var n=r.x,a=r.y,s=[],i=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){i=Math.min(i,m.x),l=Math.min(l,m.y)}):(i=Math.min(i,t.x),l=Math.min(l,t.y));for(var c=n-r.width/2-i,g=a-r.height/2-l,o=0;o<t.length;o++){var y=t[o],S=t[o<t.length-1?o+1:0],w=H(r,e,{x:c+y.x,y:g+y.y},{x:c+S.x,y:g+S.y});w&&s.push(w)}return s.length?(s.length>1&&s.sort(function(m,v){var C=m.x-e.x,I=m.y-e.y,Q=Math.sqrt(C*C+I*I),V=v.x-e.x,F=v.y-e.y,nt=Math.sqrt(V*V+F*F);return Q<nt?-1:Q===nt?0:1}),s[0]):r}const Z=(r,t)=>{var e=r.x,n=r.y,a=t.x-e,s=t.y-n,i=r.width/2,l=r.height/2,c,g;return Math.abs(s)*i>Math.abs(a)*l?(s<0&&(l=-l),c=s===0?0:l*a/s,g=l):(a<0&&(i=-i),c=i,g=a===0?0:i*s/a),{x:e+c,y:n+g}},T={node:E,circle:N,ellipse:k,polygon:A,rect:Z},yt=(r,t)=>X(this,null,function*(){t.useHtmlLabels||(0,h.c)().flowchart.htmlLabels||(t.centerLabel=!0);const{shapeSvg:n,bbox:a,halfPadding:s}=yield p(r,t,"node "+t.classes,!0);h.l.info("Classes = ",t.classes);const i=n.insert("rect",":first-child");return i.attr("rx",t.rx).attr("ry",t.ry).attr("x",-a.width/2-s).attr("y",-a.height/2-s).attr("width",a.width+t.padding).attr("height",a.height+t.padding),u(t,i),t.intersect=function(l){return T.rect(t,l)},n}),bt=r=>r?" "+r:"",z=(r,t)=>`${t||"node default"}${bt(r.classes)} ${bt(r.class)}`,wt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.width+t.padding,s=n.height+t.padding,i=a+s,l=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}];h.l.info("Question main (Circle)");const c=b(e,i,i,l);return c.attr("style",t.style),u(t,c),t.intersect=function(g){return h.l.warn("Intersect called"),T.polygon(t,l,g)},e}),Et=(r,t)=>{const e=r.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,a=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return e.insert("polygon",":first-child").attr("points",a.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(i){return T.circle(t,14,i)},e},_t=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=4,s=n.height+t.padding,i=s/a,l=n.width+2*i+t.padding,c=[{x:i,y:0},{x:l-i,y:0},{x:l,y:-s/2},{x:l-i,y:-s},{x:i,y:-s},{x:0,y:-s/2}],g=b(e,l,s,c);return g.attr("style",t.style),u(t,g),t.intersect=function(o){return T.polygon(t,c,o)},e}),Bt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:-s/2,y:0},{x:a,y:0},{x:a,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return b(e,a,s,i).attr("style",t.style),t.width=a+s,t.height=s,t.intersect=function(c){return T.polygon(t,i,c)},e}),Tt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t),!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:-2*s/6,y:0},{x:a-s/6,y:0},{x:a+2*s/6,y:-s},{x:s/6,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),u(t,l),t.intersect=function(c){return T.polygon(t,i,c)},e}),Mt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:2*s/6,y:0},{x:a+s/6,y:0},{x:a-2*s/6,y:-s},{x:-s/6,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),u(t,l),t.intersect=function(c){return T.polygon(t,i,c)},e}),Ct=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:-2*s/6,y:0},{x:a+2*s/6,y:0},{x:a-s/6,y:-s},{x:s/6,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),u(t,l),t.intersect=function(c){return T.polygon(t,i,c)},e}),It=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:s/6,y:0},{x:a-s/6,y:0},{x:a+2*s/6,y:-s},{x:-2*s/6,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),u(t,l),t.intersect=function(c){return T.polygon(t,i,c)},e}),Rt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:0,y:0},{x:a+s/2,y:0},{x:a,y:-s/2},{x:a+s/2,y:-s},{x:0,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),u(t,l),t.intersect=function(c){return T.polygon(t,i,c)},e}),Nt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.width+t.padding,s=a/2,i=s/(2.5+a/50),l=n.height+i+t.padding,c="M 0,"+i+" a "+s+","+i+" 0,0,0 "+a+" 0 a "+s+","+i+" 0,0,0 "+-a+" 0 l 0,"+l+" a "+s+","+i+" 0,0,0 "+a+" 0 l 0,"+-l,g=e.attr("label-offset-y",i).insert("path",":first-child").attr("style",t.style).attr("d",c).attr("transform","translate("+-a/2+","+-(l/2+i)+")");return u(t,g),t.intersect=function(o){const y=T.rect(t,o),S=y.x-t.x;if(s!=0&&(Math.abs(S)<t.width/2||Math.abs(S)==t.width/2&&Math.abs(y.y-t.y)>t.height/2-i)){let w=i*i*(1-S*S/(s*s));w!=0&&(w=Math.sqrt(w)),w=i-w,o.y-t.y>0&&(w=-w),y.y+=w}return y},e}),Wt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n,halfPadding:a}=yield p(r,t,"node "+t.classes+" "+t.class,!0),s=e.insert("rect",":first-child"),i=n.width+t.padding,l=n.height+t.padding;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-a).attr("y",-n.height/2-a).attr("width",i).attr("height",l),t.props){const c=new Set(Object.keys(t.props));t.props.borders&&(mt(s,t.props.borders,i,l),c.delete("borders")),c.forEach(g=>{h.l.warn(`Unknown node property ${g}`)})}return u(t,s),t.intersect=function(c){return T.rect(t,c)},e}),Ot=(r,t)=>X(this,null,function*(){const{shapeSvg:e}=yield p(r,t,"label",!0);h.l.trace("Classes = ",t.class);const n=e.insert("rect",":first-child"),a=0,s=0;if(n.attr("width",a).attr("height",s),e.attr("class","label edgeLabel"),t.props){const i=new Set(Object.keys(t.props));t.props.borders&&(mt(n,t.props.borders,a,s),i.delete("borders")),i.forEach(l=>{h.l.warn(`Unknown node property ${l}`)})}return u(t,n),t.intersect=function(i){return T.rect(t,i)},e});function mt(r,t,e,n){const a=[],s=l=>{a.push(l,0)},i=l=>{a.push(0,l)};t.includes("t")?(h.l.debug("add top border"),s(e)):i(e),t.includes("r")?(h.l.debug("add right border"),s(n)):i(n),t.includes("b")?(h.l.debug("add bottom border"),s(e)):i(e),t.includes("l")?(h.l.debug("add left border"),s(n)):i(n),r.attr("stroke-dasharray",a.join(" "))}const Ht=(r,t)=>{let e;t.classes?e="node "+t.classes:e="node default";const n=r.insert("g").attr("class",e).attr("id",t.domId||t.id),a=n.insert("rect",":first-child"),s=n.insert("line"),i=n.insert("g").attr("class","label"),l=t.labelText.flat?t.labelText.flat():t.labelText;let c="";typeof l=="object"?c=l[0]:c=l,h.l.info("Label text abc79",c,l,typeof l=="object");const g=i.node().appendChild(d(c,t.labelStyle,!0,!0));let o={width:0,height:0};if((0,h.n)((0,h.c)().flowchart.htmlLabels)){const v=g.children[0],C=(0,_.Ys)(g);o=v.getBoundingClientRect(),C.attr("width",o.width),C.attr("height",o.height)}h.l.info("Text 2",l);const y=l.slice(1,l.length);let S=g.getBBox();const w=i.node().appendChild(d(y.join?y.join("<br/>"):y,t.labelStyle,!0,!0));if((0,h.n)((0,h.c)().flowchart.htmlLabels)){const v=w.children[0],C=(0,_.Ys)(w);o=v.getBoundingClientRect(),C.attr("width",o.width),C.attr("height",o.height)}const m=t.padding/2;return(0,_.Ys)(w).attr("transform","translate( "+(o.width>S.width?0:(S.width-o.width)/2)+", "+(S.height+m+5)+")"),(0,_.Ys)(g).attr("transform","translate( "+(o.width<S.width?0:-(S.width-o.width)/2)+", 0)"),o=i.node().getBBox(),i.attr("transform","translate("+-o.width/2+", "+(-o.height/2-m+3)+")"),a.attr("class","outer title-state").attr("x",-o.width/2-m).attr("y",-o.height/2-m).attr("width",o.width+t.padding).attr("height",o.height+t.padding),s.attr("class","divider").attr("x1",-o.width/2-m).attr("x2",o.width/2+m).attr("y1",-o.height/2-m+S.height+m).attr("y2",-o.height/2-m+S.height+m),u(t,a),t.intersect=function(v){return T.rect(t,v)},n},$t=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.height+t.padding,s=n.width+a/4+t.padding,i=e.insert("rect",":first-child").attr("style",t.style).attr("rx",a/2).attr("ry",a/2).attr("x",-s/2).attr("y",-a/2).attr("width",s).attr("height",a);return u(t,i),t.intersect=function(l){return T.rect(t,l)},e}),Yt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n,halfPadding:a}=yield p(r,t,z(t,void 0),!0),s=e.insert("circle",":first-child");return s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a).attr("width",n.width+t.padding).attr("height",n.height+t.padding),h.l.info("Circle main"),u(t,s),t.intersect=function(i){return h.l.info("Circle intersect",t,n.width/2+a,i),T.circle(t,n.width/2+a,i)},e}),At=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n,halfPadding:a}=yield p(r,t,z(t,void 0),!0),s=5,i=e.insert("g",":first-child"),l=i.insert("circle"),c=i.insert("circle");return i.attr("class",t.class),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a+s).attr("width",n.width+t.padding+s*2).attr("height",n.height+t.padding+s*2),c.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a).attr("width",n.width+t.padding).attr("height",n.height+t.padding),h.l.info("DoubleCircle main"),u(t,l),t.intersect=function(g){return h.l.info("DoubleCircle intersect",t,n.width/2+a+s,g),T.circle(t,n.width/2+a+s,g)},e}),jt=(r,t)=>X(this,null,function*(){const{shapeSvg:e,bbox:n}=yield p(r,t,z(t,void 0),!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:0,y:0},{x:a,y:0},{x:a,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],l=b(e,a,s,i);return l.attr("style",t.style),u(t,l),t.intersect=function(c){return T.polygon(t,i,c)},e}),Ut=(r,t)=>{const e=r.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=e.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),u(t,n),t.intersect=function(a){return T.circle(t,7,a)},e},kt=(r,t,e)=>{const n=r.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a=70,s=10;e==="LR"&&(a=10,s=70);const i=n.append("rect").attr("x",-1*a/2).attr("y",-1*s/2).attr("width",a).attr("height",s).attr("class","fork-join");return u(t,i),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(l){return T.rect(t,l)},n},vt={rhombus:wt,question:wt,rect:Wt,labelRect:Ot,rectWithTitle:Ht,choice:Et,circle:Yt,doublecircle:At,stadium:$t,hexagon:_t,rect_left_inv_arrow:Bt,lean_right:Tt,lean_left:Mt,trapezoid:Ct,inv_trapezoid:It,rect_right_inv_arrow:Rt,cylinder:Nt,start:Ut,end:(r,t)=>{const e=r.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=e.insert("circle",":first-child"),a=e.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),u(t,a),t.intersect=function(s){return T.circle(t,7,s)},e},note:yt,subroutine:jt,fork:kt,join:kt,class_box:(r,t)=>{const e=t.padding/2,n=4,a=8;let s;t.classes?s="node "+t.classes:s="node default";const i=r.insert("g").attr("class",s).attr("id",t.domId||t.id),l=i.insert("rect",":first-child"),c=i.insert("line"),g=i.insert("line");let o=0,y=n;const S=i.insert("g").attr("class","label");let w=0;const m=t.classData.annotations&&t.classData.annotations[0],v=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",C=S.node().appendChild(d(v,t.labelStyle,!0,!0));let I=C.getBBox();if((0,h.n)((0,h.c)().flowchart.htmlLabels)){const U=C.children[0],D=(0,_.Ys)(C);I=U.getBoundingClientRect(),D.attr("width",I.width),D.attr("height",I.height)}t.classData.annotations[0]&&(y+=I.height+n,o+=I.width);let Q=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&((0,h.c)().flowchart.htmlLabels?Q+="&lt;"+t.classData.type+"&gt;":Q+="<"+t.classData.type+">");const V=S.node().appendChild(d(Q,t.labelStyle,!0,!0));(0,_.Ys)(V).attr("class","classTitle");let F=V.getBBox();if((0,h.n)((0,h.c)().flowchart.htmlLabels)){const U=V.children[0],D=(0,_.Ys)(V);F=U.getBoundingClientRect(),D.attr("width",F.width),D.attr("height",F.height)}y+=F.height+n,F.width>o&&(o=F.width);const nt=[];t.classData.members.forEach(U=>{const D=(0,et.p)(U);let G=D.displayText;(0,h.c)().flowchart.htmlLabels&&(G=G.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const at=S.node().appendChild(d(G,D.cssStyle?D.cssStyle:t.labelStyle,!0,!0));let J=at.getBBox();if((0,h.n)((0,h.c)().flowchart.htmlLabels)){const xt=at.children[0],pt=(0,_.Ys)(at);J=xt.getBoundingClientRect(),pt.attr("width",J.width),pt.attr("height",J.height)}J.width>o&&(o=J.width),y+=J.height+n,nt.push(at)}),y+=a;const St=[];if(t.classData.methods.forEach(U=>{const D=(0,et.p)(U);let G=D.displayText;(0,h.c)().flowchart.htmlLabels&&(G=G.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const at=S.node().appendChild(d(G,D.cssStyle?D.cssStyle:t.labelStyle,!0,!0));let J=at.getBBox();if((0,h.n)((0,h.c)().flowchart.htmlLabels)){const xt=at.children[0],pt=(0,_.Ys)(at);J=xt.getBoundingClientRect(),pt.attr("width",J.width),pt.attr("height",J.height)}J.width>o&&(o=J.width),y+=J.height+n,St.push(at)}),y+=a,m){let U=(o-I.width)/2;(0,_.Ys)(C).attr("transform","translate( "+(-1*o/2+U)+", "+-1*y/2+")"),w=I.height+n}let Qt=(o-F.width)/2;return(0,_.Ys)(V).attr("transform","translate( "+(-1*o/2+Qt)+", "+(-1*y/2+w)+")"),w+=F.height+n,c.attr("class","divider").attr("x1",-o/2-e).attr("x2",o/2+e).attr("y1",-y/2-e+a+w).attr("y2",-y/2-e+a+w),w+=a,nt.forEach(U=>{var G;(0,_.Ys)(U).attr("transform","translate( "+-o/2+", "+(-1*y/2+w+a/2)+")");const D=U==null?void 0:U.getBBox();w+=((G=D==null?void 0:D.height)!=null?G:0)+n}),w+=a,g.attr("class","divider").attr("x1",-o/2-e).attr("x2",o/2+e).attr("y1",-y/2-e+a+w).attr("y2",-y/2-e+a+w),w+=a,St.forEach(U=>{var G;(0,_.Ys)(U).attr("transform","translate( "+-o/2+", "+(-1*y/2+w)+")");const D=U==null?void 0:U.getBBox();w+=((G=D==null?void 0:D.height)!=null?G:0)+n}),l.attr("class","outer title-state").attr("x",-o/2-e).attr("y",-(y/2)-e).attr("width",o+t.padding).attr("height",y+t.padding),u(t,l),t.intersect=function(U){return T.rect(t,U)},i}};let ht={};const Dt=(r,t,e)=>X(this,null,function*(){let n,a;if(t.link){let s;(0,h.c)().securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=r.insert("svg:a").attr("xlink:href",t.link).attr("target",s),a=yield vt[t.shape](n,t,e)}else a=yield vt[t.shape](r,t,e),n=a;return t.tooltip&&a.attr("title",t.tooltip),t.class&&a.attr("class","node default "+t.class),ht[t.id]=n,t.haveCallback&&ht[t.id].attr("class",ht[t.id].attr("class")+" clickable"),n}),Xt=(r,t)=>{ht[t.id]=r},Pt=()=>{ht={}},Zt=r=>{const t=ht[r.id];h.l.trace("Transforming node",r.diff,r,"translate("+(r.x-r.width/2-5)+", "+r.width/2+")");const e=8,n=r.diff||0;return r.clusterNode?t.attr("transform","translate("+(r.x+n-r.width/2)+", "+(r.y-r.height/2-e)+")"):t.attr("transform","translate("+r.x+", "+r.y+")"),n};let ut={},P={};const Kt=()=>{ut={},P={}},zt=(r,t)=>{const e=(0,h.n)((0,h.c)().flowchart.htmlLabels),n=t.labelType==="markdown"?(0,q.c)(r,t.label,{style:t.labelStyle,useHtmlLabels:e,addSvgBackground:!0}):d(t.label,t.labelStyle);h.l.info("abc82",t,t.labelType);const a=r.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(n);let i=n.getBBox();if(e){const c=n.children[0],g=(0,_.Ys)(n);i=c.getBoundingClientRect(),g.attr("width",i.width),g.attr("height",i.height)}s.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"),ut[t.id]=a,t.width=i.width,t.height=i.height;let l;if(t.startLabelLeft){const c=d(t.startLabelLeft,t.labelStyle),g=r.insert("g").attr("class","edgeTerminals"),o=g.insert("g").attr("class","inner");l=o.node().appendChild(c);const y=c.getBBox();o.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),P[t.id]||(P[t.id]={}),P[t.id].startLeft=g,gt(l,t.startLabelLeft)}if(t.startLabelRight){const c=d(t.startLabelRight,t.labelStyle),g=r.insert("g").attr("class","edgeTerminals"),o=g.insert("g").attr("class","inner");l=g.node().appendChild(c),o.node().appendChild(c);const y=c.getBBox();o.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),P[t.id]||(P[t.id]={}),P[t.id].startRight=g,gt(l,t.startLabelRight)}if(t.endLabelLeft){const c=d(t.endLabelLeft,t.labelStyle),g=r.insert("g").attr("class","edgeTerminals"),o=g.insert("g").attr("class","inner");l=o.node().appendChild(c);const y=c.getBBox();o.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),g.node().appendChild(c),P[t.id]||(P[t.id]={}),P[t.id].endLeft=g,gt(l,t.endLabelLeft)}if(t.endLabelRight){const c=d(t.endLabelRight,t.labelStyle),g=r.insert("g").attr("class","edgeTerminals"),o=g.insert("g").attr("class","inner");l=o.node().appendChild(c);const y=c.getBBox();o.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),g.node().appendChild(c),P[t.id]||(P[t.id]={}),P[t.id].endRight=g,gt(l,t.endLabelRight)}return n};function gt(r,t){(0,h.c)().flowchart.htmlLabels&&r&&(r.style.width=t.length*9+"px",r.style.height="12px")}const Ft=(r,t)=>{h.l.info("Moving label abc78 ",r.id,r.label,ut[r.id]);let e=t.updatedPath?t.updatedPath:t.originalPath;if(r.label){const n=ut[r.id];let a=r.x,s=r.y;if(e){const i=h.u.calcLabelPosition(e);h.l.info("Moving label "+r.label+" from (",a,",",s,") to (",i.x,",",i.y,") abc78"),t.updatedPath&&(a=i.x,s=i.y)}n.attr("transform","translate("+a+", "+s+")")}if(r.startLabelLeft){const n=P[r.id].startLeft;let a=r.x,s=r.y;if(e){const i=h.u.calcTerminalLabelPosition(r.arrowTypeStart?10:0,"start_left",e);a=i.x,s=i.y}n.attr("transform","translate("+a+", "+s+")")}if(r.startLabelRight){const n=P[r.id].startRight;let a=r.x,s=r.y;if(e){const i=h.u.calcTerminalLabelPosition(r.arrowTypeStart?10:0,"start_right",e);a=i.x,s=i.y}n.attr("transform","translate("+a+", "+s+")")}if(r.endLabelLeft){const n=P[r.id].endLeft;let a=r.x,s=r.y;if(e){const i=h.u.calcTerminalLabelPosition(r.arrowTypeEnd?10:0,"end_left",e);a=i.x,s=i.y}n.attr("transform","translate("+a+", "+s+")")}if(r.endLabelRight){const n=P[r.id].endRight;let a=r.x,s=r.y;if(e){const i=h.u.calcTerminalLabelPosition(r.arrowTypeEnd?10:0,"end_right",e);a=i.x,s=i.y}n.attr("transform","translate("+a+", "+s+")")}},Gt=(r,t)=>{const e=r.x,n=r.y,a=Math.abs(t.x-e),s=Math.abs(t.y-n),i=r.width/2,l=r.height/2;return a>=i||s>=l},Jt=(r,t,e)=>{h.l.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(e)}
  node        : x:${r.x} y:${r.y} w:${r.width} h:${r.height}`);const n=r.x,a=r.y,s=Math.abs(n-e.x),i=r.width/2;let l=e.x<t.x?i-s:i+s;const c=r.height/2,g=Math.abs(t.y-e.y),o=Math.abs(t.x-e.x);if(Math.abs(a-t.y)*i>Math.abs(n-t.x)*c){let y=e.y<t.y?t.y-c-a:a-c-t.y;l=o*y/g;const S={x:e.x<t.x?e.x+l:e.x-o+l,y:e.y<t.y?e.y+g-y:e.y-g+y};return l===0&&(S.x=t.x,S.y=t.y),o===0&&(S.x=t.x),g===0&&(S.y=t.y),h.l.warn(`abc89 topp/bott calc, Q ${g}, q ${y}, R ${o}, r ${l}`,S),S}else{e.x<t.x?l=t.x-i-n:l=n-i-t.x;let y=g*l/o,S=e.x<t.x?e.x+o-l:e.x-o+l,w=e.y<t.y?e.y+y:e.y-y;return h.l.warn(`sides calc abc89, Q ${g}, q ${y}, R ${o}, r ${l}`,{_x:S,_y:w}),l===0&&(S=t.x,w=t.y),o===0&&(S=t.x),g===0&&(w=t.y),{x:S,y:w}}},Lt=(r,t)=>{h.l.warn("abc88 cutPathAtIntersect",r,t);let e=[],n=r[0],a=!1;return r.forEach(s=>{if(h.l.info("abc88 checking point",s,t),!Gt(t,s)&&!a){const i=Jt(t,n,s);h.l.warn("abc88 inside",s,n,i),h.l.warn("abc88 intersection",i);let l=!1;e.forEach(c=>{l=l||c.x===i.x&&c.y===i.y}),e.some(c=>c.x===i.x&&c.y===i.y)?h.l.warn("abc88 no intersect",i,e):e.push(i),a=!0}else h.l.warn("abc88 outside",s,n),n=s,a||e.push(s)}),h.l.warn("abc88 returning points",e),e},Vt=function(r,t,e,n,a,s){let i=e.points,l=!1;const c=s.node(t.v);var g=s.node(t.w);h.l.info("abc88 InsertEdge: ",e),g.intersect&&c.intersect&&(i=i.slice(1,e.points.length-1),i.unshift(c.intersect(i[0])),h.l.info("Last point",i[i.length-1],g,g.intersect(i[i.length-1])),i.push(g.intersect(i[i.length-1]))),e.toCluster&&(h.l.info("to cluster abc88",n[e.toCluster]),i=Lt(e.points,n[e.toCluster].node),l=!0),e.fromCluster&&(h.l.info("from cluster abc88",n[e.fromCluster]),i=Lt(i.reverse(),n[e.fromCluster].node).reverse(),l=!0);const o=i.filter(I=>!Number.isNaN(I.y));let y;a==="graph"||a==="flowchart"?y=e.curve||_.$0Z:y=_.$0Z;const S=(0,_.jvg)().x(function(I){return I.x}).y(function(I){return I.y}).curve(y);let w;switch(e.thickness){case"normal":w="edge-thickness-normal";break;case"thick":w="edge-thickness-thick";break;case"invisible":w="edge-thickness-thick";break;default:w=""}switch(e.pattern){case"solid":w+=" edge-pattern-solid";break;case"dotted":w+=" edge-pattern-dotted";break;case"dashed":w+=" edge-pattern-dashed";break}const m=r.append("path").attr("d",S(o)).attr("id",e.id).attr("class"," "+w+(e.classes?" "+e.classes:"")).attr("style",e.style);let v="";switch(((0,h.c)().flowchart.arrowMarkerAbsolute||(0,h.c)().state.arrowMarkerAbsolute)&&(v=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,v=v.replace(/\(/g,"\\("),v=v.replace(/\)/g,"\\)")),h.l.info("arrowTypeStart",e.arrowTypeStart),h.l.info("arrowTypeEnd",e.arrowTypeEnd),e.arrowTypeStart){case"arrow_cross":m.attr("marker-start","url("+v+"#"+a+"-crossStart)");break;case"arrow_point":m.attr("marker-start","url("+v+"#"+a+"-pointStart)");break;case"arrow_barb":m.attr("marker-start","url("+v+"#"+a+"-barbStart)");break;case"arrow_circle":m.attr("marker-start","url("+v+"#"+a+"-circleStart)");break;case"aggregation":m.attr("marker-start","url("+v+"#"+a+"-aggregationStart)");break;case"extension":m.attr("marker-start","url("+v+"#"+a+"-extensionStart)");break;case"composition":m.attr("marker-start","url("+v+"#"+a+"-compositionStart)");break;case"dependency":m.attr("marker-start","url("+v+"#"+a+"-dependencyStart)");break;case"lollipop":m.attr("marker-start","url("+v+"#"+a+"-lollipopStart)");break}switch(e.arrowTypeEnd){case"arrow_cross":m.attr("marker-end","url("+v+"#"+a+"-crossEnd)");break;case"arrow_point":m.attr("marker-end","url("+v+"#"+a+"-pointEnd)");break;case"arrow_barb":m.attr("marker-end","url("+v+"#"+a+"-barbEnd)");break;case"arrow_circle":m.attr("marker-end","url("+v+"#"+a+"-circleEnd)");break;case"aggregation":m.attr("marker-end","url("+v+"#"+a+"-aggregationEnd)");break;case"extension":m.attr("marker-end","url("+v+"#"+a+"-extensionEnd)");break;case"composition":m.attr("marker-end","url("+v+"#"+a+"-compositionEnd)");break;case"dependency":m.attr("marker-end","url("+v+"#"+a+"-dependencyEnd)");break;case"lollipop":m.attr("marker-end","url("+v+"#"+a+"-lollipopEnd)");break}let C={};return l&&(C.updatedPath=i),C.originalPath=e.points,C}},27863:function(ft,it,j){j.d(it,{p:function(){return lt},s:function(){return ot}});var h=j(24631),_=j(24698);let q=0;const et=function(B,L,f,W,O){const $=function(R){switch(R){case O.db.relationType.AGGREGATION:return"aggregation";case O.db.relationType.EXTENSION:return"extension";case O.db.relationType.COMPOSITION:return"composition";case O.db.relationType.DEPENDENCY:return"dependency";case O.db.relationType.LOLLIPOP:return"lollipop"}};L.points=L.points.filter(R=>!Number.isNaN(R.y));const Y=L.points,x=(0,h.jvg)().x(function(R){return R.x}).y(function(R){return R.y}).curve(h.$0Z),d=B.append("path").attr("d",x(Y)).attr("id","edge"+q).attr("class","relation");let p="";W.arrowMarkerAbsolute&&(p=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,p=p.replace(/\(/g,"\\("),p=p.replace(/\)/g,"\\)")),f.relation.lineType==1&&d.attr("class","relation dashed-line"),f.relation.lineType==10&&d.attr("class","relation dotted-line"),f.relation.type1!=="none"&&d.attr("marker-start","url("+p+"#"+$(f.relation.type1)+"Start)"),f.relation.type2!=="none"&&d.attr("marker-end","url("+p+"#"+$(f.relation.type2)+"End)");let u,b;const E=L.points.length;let k=_.u.calcLabelPosition(L.points);u=k.x,b=k.y;let N,H,M,A;if(E%2!==0&&E>1){let R=_.u.calcCardinalityPosition(f.relation.type1!=="none",L.points,L.points[0]),Z=_.u.calcCardinalityPosition(f.relation.type2!=="none",L.points,L.points[E-1]);_.l.debug("cardinality_1_point "+JSON.stringify(R)),_.l.debug("cardinality_2_point "+JSON.stringify(Z)),N=R.x,H=R.y,M=Z.x,A=Z.y}if(f.title!==void 0){const R=B.append("g").attr("class","classLabel"),Z=R.append("text").attr("class","label").attr("x",u).attr("y",b).attr("fill","red").attr("text-anchor","middle").text(f.title);window.label=Z;const T=Z.node().getBBox();R.insert("rect",":first-child").attr("class","box").attr("x",T.x-W.padding/2).attr("y",T.y-W.padding/2).attr("width",T.width+W.padding).attr("height",T.height+W.padding)}_.l.info("Rendering relation "+JSON.stringify(f)),f.relationTitle1!==void 0&&f.relationTitle1!=="none"&&B.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",N).attr("y",H).attr("fill","black").attr("font-size","6").text(f.relationTitle1),f.relationTitle2!==void 0&&f.relationTitle2!=="none"&&B.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",M).attr("y",A).attr("fill","black").attr("font-size","6").text(f.relationTitle2),q++},tt=function(B,L,f,W){_.l.debug("Rendering class ",L,f);const O=L.id,$={id:O,label:L.id,width:0,height:0},Y=B.append("g").attr("id",W.db.lookUpDomId(O)).attr("class","classGroup");let x;L.link?x=Y.append("svg:a").attr("xlink:href",L.link).attr("target",L.linkTarget).append("text").attr("y",f.textHeight+f.padding).attr("x",0):x=Y.append("text").attr("y",f.textHeight+f.padding).attr("x",0);let d=!0;L.annotations.forEach(function(rt){const yt=x.append("tspan").text("\xAB"+rt+"\xBB");d||yt.attr("dy",f.textHeight),d=!1});let p=K(L);const u=x.append("tspan").text(p).attr("class","title");d||u.attr("dy",f.textHeight);const b=x.node().getBBox().height,E=Y.append("line").attr("x1",0).attr("y1",f.padding+b+f.dividerMargin/2).attr("y2",f.padding+b+f.dividerMargin/2),k=Y.append("text").attr("x",f.padding).attr("y",b+f.dividerMargin+f.textHeight).attr("fill","white").attr("class","classText");d=!0,L.members.forEach(function(rt){ct(k,rt,d,f),d=!1});const N=k.node().getBBox(),H=Y.append("line").attr("x1",0).attr("y1",f.padding+b+f.dividerMargin+N.height).attr("y2",f.padding+b+f.dividerMargin+N.height),M=Y.append("text").attr("x",f.padding).attr("y",b+2*f.dividerMargin+N.height+f.textHeight).attr("fill","white").attr("class","classText");d=!0,L.methods.forEach(function(rt){ct(M,rt,d,f),d=!1});const A=Y.node().getBBox();var R=" ";L.cssClasses.length>0&&(R=R+L.cssClasses.join(" "));const T=Y.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",A.width+2*f.padding).attr("height",A.height+f.padding+.5*f.dividerMargin).attr("class",R).node().getBBox().width;return x.node().childNodes.forEach(function(rt){rt.setAttribute("x",(T-rt.getBBox().width)/2)}),L.tooltip&&x.insert("title").text(L.tooltip),E.attr("x2",T),H.attr("x2",T),$.width=T,$.height=A.height+f.padding+.5*f.dividerMargin,$},K=function(B){let L=B.id;return B.type&&(L+="<"+B.type+">"),L},st=function(B,L,f,W){_.l.debug("Rendering note ",L,f);const O=L.id,$={id:O,text:L.text,width:0,height:0},Y=B.append("g").attr("id",O).attr("class","classGroup");let x=Y.append("text").attr("y",f.textHeight+f.padding).attr("x",0);const d=JSON.parse(`"${L.text}"`).split(`
`);d.forEach(function(E){_.l.debug(`Adding line: ${E}`),x.append("tspan").text(E).attr("class","title").attr("dy",f.textHeight)});const p=Y.node().getBBox(),b=Y.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",p.width+2*f.padding).attr("height",p.height+d.length*f.textHeight+f.padding+.5*f.dividerMargin).node().getBBox().width;return x.node().childNodes.forEach(function(E){E.setAttribute("x",(b-E.getBBox().width)/2)}),$.width=b,$.height=p.height+d.length*f.textHeight+f.padding+.5*f.dividerMargin,$},lt=function(B){let L="",f="",W="",O="",$=B.substring(0,1),Y=B.substring(B.length-1,B.length);$.match(/[#+~-]/)&&(O=$);let x=/[\s\w)~]/;Y.match(x)||(f=dt(Y));const d=O===""?0:1;let p=f===""?B.length:B.length-1;B=B.substring(d,p);const u=B.indexOf("("),b=B.indexOf(")");if(u>1&&b>u&&b<=B.length){let k=B.substring(0,u).trim();const N=B.substring(u+1,b);if(L=O+k+"("+(0,_.x)(N.trim())+")",b<B.length){let H=B.substring(b+1,b+2);f===""&&!H.match(x)?(f=dt(H),W=B.substring(b+2).trim()):W=B.substring(b+1).trim(),W!==""&&(W.charAt(0)===":"&&(W=W.substring(1).trim()),W=" : "+(0,_.x)(W),L+=W)}}else L=O+(0,_.x)(B);return{displayText:L,cssStyle:f}},ct=function(B,L,f,W){let O=lt(L);const $=B.append("tspan").attr("x",W.padding).text(O.displayText);O.cssStyle!==""&&$.attr("style",O.cssStyle),f||$.attr("dy",W.textHeight)},dt=function(B){switch(B){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},ot={getClassTitleString:K,drawClass:tt,drawEdge:et,drawNote:st,parseMember:lt}}}]);

//# sourceMappingURL=6076.8524cf38bf6cac2b925d.js.map