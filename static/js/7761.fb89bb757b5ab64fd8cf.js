(self.webpackChunkpro_react_admin=self.webpackChunkpro_react_admin||[]).push([[7761],{85671:function(X,e,n){"use strict";var l=n(87537),C=n.n(l),p=n(23645),u=n.n(p),B=u()(C());B.push([X.id,`.markdownBody--xUrgB {
  background: #282c34;
  padding: 10px;
  color: #fff;
  border-radius: 5px;
}

.copyBtn--aDTW7 {
  margin: 10px 10px 5px;
  text-align: right;
  cursor: pointer;
}

.preCode--s6faO {
  margin-bottom: 10px;
}
`,"",{version:3,sources:["webpack://./src/components/stateless/ReMarkdown/index.module.less"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,aAAa;EACb,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,mBAAmB;AACrB",sourcesContent:[`.markdownBody {
  background: #282c34;
  padding: 10px;
  color: #fff;
  border-radius: 5px;
}

.copyBtn {
  margin: 10px 10px 5px;
  text-align: right;
  cursor: pointer;
}

.preCode {
  margin-bottom: 10px;
}
`],sourceRoot:""}]),B.locals={markdownBody:"markdownBody--xUrgB",copyBtn:"copyBtn--aDTW7",preCode:"preCode--s6faO"},e.Z=B},18722:function(X,e,n){"use strict";var l=n(64836);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var C=l(n(67294)),p=function(w){var v=w.children;return C.default.createElement("div",{style:{width:"100%",minHeight:"calc(100vh - 232px)"}},v)},u=p;e.default=u},74710:function(X,e,n){"use strict";var l=n(64836),C=n(18698);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=l(n(64687)),u=l(n(10434)),B=l(n(17156)),w=l(n(27424)),v=W(n(67294)),U=n(52724),s=l(n(76637)),I=l(n(19346)),g=l(n(36471)),D=l(n(96929)),P=l(n(17070)),y=l(n(44323)),o=l(n(3481)),F=l(n(11202)),M=n(24697);n(48085);var E=l(n(95740));function O(f){if(typeof WeakMap!="function")return null;var N=new WeakMap,T=new WeakMap;return(O=function(j){return j?T:N})(f)}function W(f,N){if(!N&&f&&f.__esModule)return f;if(f===null||C(f)!=="object"&&typeof f!="function")return{default:f};var T=O(N);if(T&&T.has(f))return T.get(f);var A={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in f)if(_!=="default"&&Object.prototype.hasOwnProperty.call(f,_)){var R=j?Object.getOwnPropertyDescriptor(f,_):null;R&&(R.get||R.set)?Object.defineProperty(A,_,R):A[_]=f[_]}return A.default=f,T&&T.set(f,A),A}var z=function(N){var T,A=(0,v.useRef)(null),j=(T=A.current)===null||T===void 0?void 0:T.innerText,_=(0,v.useState)(""),R=(0,w.default)(_,2),b=R[0],V=R[1],Y=(0,M.useDebouncedCallback)(function(){if(A.current){var J=A.current.querySelector("code.language-mermaid");J&&V(J.innerText)}},600);(0,v.useEffect)(function(){setTimeout(Y,1)},[j]);var ne=function(){var J=(0,B.default)(p.default.mark(function ee(Q){var k;return p.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(m.prev=0,!((k=navigator)!==null&&k!==void 0&&(k=k.clipboard)!==null&&k!==void 0&&k.writeText)){m.next=5;break}return m.next=4,navigator.clipboard.writeText(Q);case 4:U.message.success("\u5DF2\u6210\u529F\u590D\u5236\u5230\u526A\u8D34\u677F");case 5:m.next=10;break;case 7:m.prev=7,m.t0=m.catch(0),U.message.error("\u590D\u5236\u5230\u526A\u8D34\u677F\u5931\u8D25:".concat(m.t0.message));case 10:case"end":return m.stop()}},ee,null,[[0,7]])}));return function(Q){return J.apply(this,arguments)}}();return v.default.createElement("section",null,b.length>0&&v.default.createElement(s.default,{code:b,key:b}),v.default.createElement("div",{className:E.default.copyBtn,onClick:function(){return ne(j)}},"\u590D\u5236\u4EE3\u7801"),v.default.createElement("pre",{className:E.default.preCode,ref:A},N.children))},x=function(N){var T=N.markdownText,A=T===void 0?"":T;return v.default.createElement("section",{className:E.default.markdownBody},v.default.createElement(I.default,{remarkPlugins:[g.default,y.default,D.default],rehypePlugins:[P.default,F.default,[o.default,{detect:!1,ignoreMissing:!0}]],components:{pre:z,p:function(_){return v.default.createElement("p",(0,u.default)({},_,{dir:"auto"}))},a:function(_){var R,b=_.href||"",V=/^\/#/i.test(b),Y=V?"_self":(R=_.target)!==null&&R!==void 0?R:"_blank";return v.default.createElement("a",(0,u.default)({},_,{target:Y}))}}},A))},ae=x;e.default=ae},94138:function(X,e,n){"use strict";var l=n(64836),C=n(18698);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=l(n(27424)),u=w(n(67294));function B(s){if(typeof WeakMap!="function")return null;var I=new WeakMap,g=new WeakMap;return(B=function(P){return P?g:I})(s)}function w(s,I){if(!I&&s&&s.__esModule)return s;if(s===null||C(s)!=="object"&&typeof s!="function")return{default:s};var g=B(I);if(g&&g.has(s))return g.get(s);var D={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in s)if(y!=="default"&&Object.prototype.hasOwnProperty.call(s,y)){var o=P?Object.getOwnPropertyDescriptor(s,y):null;o&&(o.get||o.set)?Object.defineProperty(D,y,o):D[y]=s[y]}return D.default=s,g&&g.set(s,D),D}var v=function(I){var g=I.children,D=I.delay,P=D===void 0?110:D,y=(0,u.useState)(0),o=(0,p.default)(y,2),F=o[0],M=o[1],E=setInterval(function(){return M(function(O){return O+1})},P);return(0,u.useEffect)(function(){F===g.length&&clearInterval(E)},[g,E,F]),(0,u.useEffect)(function(){return function(){return clearInterval(E)}},[E]),u.default.createElement(u.default.Fragment,null,g.substring(0,F))},U=(0,u.memo)(v);e.default=U},4585:function(X,e,n){"use strict";var l=n(64836),C=n(18698);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=l(n(27424)),u=D(n(67294)),B=l(n(18722)),w=l(n(94138)),v=l(n(74710)),U=n(52724),s=n(10198),I=n(20708);function g(o){if(typeof WeakMap!="function")return null;var F=new WeakMap,M=new WeakMap;return(g=function(O){return O?M:F})(o)}function D(o,F){if(!F&&o&&o.__esModule)return o;if(o===null||C(o)!=="object"&&typeof o!="function")return{default:o};var M=g(F);if(M&&M.has(o))return M.get(o);var E={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in o)if(W!=="default"&&Object.prototype.hasOwnProperty.call(o,W)){var z=O?Object.getOwnPropertyDescriptor(o,W):null;z&&(z.get||z.set)?Object.defineProperty(E,W,z):E[W]=o[W]}return E.default=o,M&&M.set(o,E),E}var P=function(){var F=(0,u.useState)(""),M=(0,p.default)(F,2),E=M[0],O=M[1],W=(0,u.useRef)(null),z=(0,u.useState)(!1),x=(0,p.default)(z,2),ae=x[0],f=x[1],N=(0,u.useState)(function(){return""}),T=(0,p.default)(N,2),A=T[0],j=T[1],_=(0,u.useState)(""),R=(0,p.default)(_,2),b=R[0],V=R[1],Y=(0,u.useRef)(null),ne=function(m){j(m.target.value)},J=function(m){V(m.target.value)},ee=function(m){m.metaKey&&m.key==="Enter"&&(Q(),m.preventDefault())},Q=function(){if(b.trim()!==""){var m=new AbortController;k(b,A,m)}},k=function(m,ce,se){W.current=null,O(W);var fe=se.signal;f(!0),(0,I.oneApiChat)([{content:m,role:"user"}],ce,fe).then(function(K){f(!1);var Z=K.headers.get("content-type");if(!K.ok||!(Z!=null&&Z.startsWith("text/event-stream"))||K.status!==200){Z!=null&&Z.startsWith("text/plain")&&O(K.clone().text());try{var me=K.clone().json();me.then(function(q){O(q.error.message)})}catch(q){O(q.message)}}else{var re,ve=K==null||(re=K.body)===null||re===void 0?void 0:re.getReader(),ie=`

`,G="",oe="",he=function q(){ve.read().then(function(ue){var le=ue.done,ge=ue.value;if(!le){for(G+=new TextDecoder().decode(ge);G.includes(ie);){var de=G.indexOf(ie),ye=G.slice(0,de),te=ye.split("data: ");for(var r in te)if(te[r]!==""&&te[r]!=="[DONE]")try{var t,a,i=JSON.parse(te[r]),d=(t=(a=i.choices[0])===null||a===void 0||(a=a.delta)===null||a===void 0?void 0:a.content)!==null&&t!==void 0?t:"";oe+=d,W.current=oe,O(W.current)}catch(c){}G=G.slice(de+ie.length)}q()}}).catch(function(ue){})};he()}}).catch(function(K){f(!1),O(K.message)})};return u.default.createElement(B.default,null,u.default.createElement("h2",null,u.default.createElement(w.default,null,"Cool! Hi, React & Ant Design!")),u.default.createElement("h2",null,"React version: ",u.version),u.default.createElement("section",{style:{width:400,margin:"30px 0"}},u.default.createElement(U.Input,{defaultValue:A,placeholder:"api key",onChange:ne,style:{marginBottom:20}}),u.default.createElement(U.Flex,{align:"center"},u.default.createElement(U.Input.TextArea,{ref:Y,defaultValue:b,placeholder:"\u6765\uFF0C\u8BF4\u70B9\u4EC0\u4E48\u5457...Meta + Enter\u53D1\u9001",onChange:J,onKeyDown:ee,autoSize:!0}),u.default.createElement(U.Button,{icon:u.default.createElement(s.SendOutlined,{rotate:-60}),type:"link",onClick:Q},"\u53D1\u9001"))),u.default.createElement("section",{style:{background:"#282c34",color:"#fff",borderRadius:4,padding:10}},ae?"AI\u601D\u8003\u4E2D...":E?u.default.createElement(v.default,{markdownText:E}):""))},y=P;e.default=y},20708:function(X,e,n){"use strict";var l=n(34155),C=n(64836);Object.defineProperty(e,"__esModule",{value:!0}),e.trimTopic=e.toFixedBug=e.toFixed=e.toCamelCase=e.sleep=e.shuffleArr=e.saveHtmlToPng=e.reqStringify=e.readFromFile=e.randomString=e.randomNum=e.randomItem=e.randomHex=e.randomColor=e.random=e.promiseWithTimeout=e.pause=e.oneApiChat=e.limitDecimal=e.isURLSearchParams=e.isObject=e.isNotEmpty=e.isEqual=e.isEmptyArray=e.isDecimal=e.isDate=e.isDarkMode=e.isArray=e.hidePhone=e.hasFocus=e.getType=e.getRandomId=e.getParamObject=e.getImgsUrl=e.getEnv=e.getCurrentDate=e.fetchSomething=e.exportJsonData=e.escape=e.dayDif=e.customizeTimer=e.copyTextToClipboard=e.clearCookies=e.checkIsLocalPage=e.capitalize=e.camelizeCamelCase=e.asyncTo=e.asyncAction=e.ThousandNum=e.RoundNum=e.RandomId=void 0;var p=C(n(64687)),u=C(n(17156)),B=C(n(861)),w=C(n(18698)),v=n(80129),U=C(n(61120)),s=function(){var t;return typeof l!="undefined"&&Object.prototype.toString.call(l)==="[object process]"&&(t="NODE"),typeof XMLHttpRequest!="undefined"&&(t="BROWSER"),t};e.getEnv=s;var I=function(t){return(0,w.default)(t)==="object"&&Object.prototype.toString.call(t)==="[object Array]"};e.isArray=I;var g=function(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams};e.isURLSearchParams=g;var D=function(t){return(0,w.default)(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"};e.isDate=D;var P=function(t){return t!==null&&(0,w.default)(t)==="object"};e.isObject=P;var y=function(t){return g(t)?(0,v.parse)(t.toString(),{strictNullHandling:!0}):typeof t=="string"?[t]:t};e.getParamObject=y;var o=function(t){return(0,v.stringify)(t,{arrayFormat:"repeat",strictNullHandling:!0})};e.reqStringify=o;var F=function(t){var a=(0,w.default)(t);return a!=="object"?a:Object.prototype.toString.call(t).replace(/^$/,"$1")};e.getType=F;var M=function(t){return t==null?void 0:t.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")};e.hidePhone=M;var E=function(t){var a=Promise.resolve(t);return function(i){a.then(function(){return setTimeout(function(){return i()})})}};e.asyncAction=E;var O=function(t){var a=/<img.*?(?:>|\/>)/gi,i=/src=['"]?([^'"]*)['"]?/i,d=t.match(a);if(!d)return null;var c=d.reduce(function(h,L){var S=L.match(i);return S[1]?[].concat((0,B.default)(h),[S[1]]):h},[]);return c};e.getImgsUrl=O;var W={intervalTimer:null,timeoutTimer:null,setTimeout:function(t,a){var i=this,d=Date.now,c=d(),h=c,L=function S(){i.timeoutTimer=requestAnimationFrame(S),h=d(),h-c>=a&&(t(),cancelAnimationFrame(i.timeoutTimer))};return this.timeoutTimer=requestAnimationFrame(L),this.timeoutTimer},clearTimeout:function(){cancelAnimationFrame(this.timeoutTimer)},setInterval:function(t,a){var i=this,d=Date.now,c=d(),h=c,L=function S(){i.intervalTimer=requestAnimationFrame(S),h=d(),h-c>=a&&(c=d(),h=c,t())};return this.intervalTimer=requestAnimationFrame(L),this.intervalTimer},clearInterval:function(){cancelAnimationFrame(this.intervalTimer)}};e.customizeTimer=W;var z=function(t){var a=/(?:^[1-9](\d+)?(?:\.\d{1,2})?$)|(?:^(?:0)$)|(?:^\d\.\d(?:\d)?$)/;return a.test(t)};e.isDecimal=z;var x=function(t){return t.replace(/^(-)*(\d+)\.(\d\d).*$/,"$1$2.$3")};e.limitDecimal=x;var ae=function(){document.addEventListener("visibilitychange",function(){if(document.visibilityState==="hidden")return!1;if(document.visibilityState==="visible")return!0;window.addEventListener("pagehide",function(t){t.persisted},!1)})};e.checkIsLocalPage=ae;var f=function(){return"#".concat(Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0"))};e.randomHex=f;var N=document.cookie.split(";").forEach(function(r){return document.cookie=r.replace(/^ +/,"").replace(/[=].*/,"=;expires=".concat(new Date(0).toUTCString(),";path=/"))});e.clearCookies=N;var T=function(t,a){return Math.ceil(Math.abs(t.getTime()-a.getTime())/864e5)};e.dayDif=T;var A=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};e.capitalize=A;var j=function(t){return Array.isArray(t)&&t.length>0};e.isNotEmpty=j;var _=window.matchMedia("(prefers-color-scheme: dark)").matches;e.isDarkMode=_;var R=function(){return new Promise(function(t){setTimeout(function(){t("")},1e3)})};e.fetchSomething=R;var b=function(t,a){if(typeof t!="number")throw new Error("number\u4E0D\u662F\u6570\u5B57");var i=Math.round(Math.pow(10,a)*t)/Math.pow(10,a);if(i=String(i),i.indexOf(".")===-1)a!==0&&(i+=".",i+=new Array(a+1).join("0"));else{var d=i.split(".");d[1].length<a&&(d[1]+=new Array(a-d[1].length+1).join("0")),i=d.join(".")}return i};e.toFixed=b;var V=function(t,a){return~~(Math.pow(10,a)*t)/Math.pow(10,a)};e.toFixedBug=V;var Y=function(t,a){var i=new Promise(function(d){return setTimeout(function(){return d("Time Out!")},a)});return Promise.race([i,t])};e.promiseWithTimeout=Y;var ne=function(t){return t.sort(function(){return .5-Math.random()})};e.shuffleArr=ne;var J=function(t){return new Promise(function(a){return setTimeout(function(){return a()},t)})};e.sleep=J;var ee=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};e.ThousandNum=ee;var Q=function(t){return Math.random().toString(36).substring(3,t)};e.RandomId=Q;var k=function(t,a){return Math.round(t*Math.pow(10,a))/Math.pow(10,a)};e.RoundNum=k;var $=function(t,a){return Math.floor(Math.random()*(a-t+1))+t};e.randomNum=$;var m=function(t){return Array.isArray(t)&&!t.length};e.isEmptyArray=m;var ce=function(t){return t[Math.floor(Math.random()*t.length)]};e.randomItem=ce;var se=function(t){return t.then(function(a){return[null,a]}).catch(function(a){return[a]})};e.asyncTo=se;var fe=function(t){return t===document.activeElement};e.hasFocus=fe;var K=function(t,a){return JSON.stringify(t)===JSON.stringify(a)};e.isEqual=K;var Z=function(){return Math.random().toString(36).slice(2)};e.randomString=Z;var me=function(t){return t.replace(/[&<>"']/g,function(a){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[a]})};e.escape=me;var re=function(t){return t.trim().replace(/[-_\s]+(.)?/g,function(a,i){return i?i.toUpperCase():""})};e.toCamelCase=re;var ve=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};e.random=ve;var ie=function(){return"#".concat(Math.random().toString(16).slice(2,8).padEnd(6,"0"))};e.randomColor=ie;var G=function(t){return new Promise(function(a){return setTimeout(a,t)})};e.pause=G;var oe=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,i){return i===0?a.toLowerCase():a.toUpperCase()}).replace(/\s+/g,"")};e.camelizeCamelCase=oe;var he=function(){var r=(0,u.default)(p.default.mark(function t(a){var i;return p.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,!((i=navigator)!==null&&i!==void 0&&(i=i.clipboard)!==null&&i!==void 0&&i.writeText)){c.next=4;break}return c.next=4,navigator.clipboard.writeText(a);case 4:c.next=8;break;case 6:c.prev=6,c.t0=c.catch(0);case 8:case"end":return c.stop()}},t,null,[[0,6]])}));return function(a){return r.apply(this,arguments)}}();e.copyTextToClipboard=he;var q=function(){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<32;i++)t+=a.charAt(Math.floor(Math.random()*a.length));return t};e.getRandomId=q;var ue=function(t,a,i){return fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:i,headers:{Authorization:a,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:t,stream:!0})})};e.oneApiChat=ue;var le=function(){var t=new Date,a=t.getDate(),i=t.getMonth()+1,d=t.getFullYear();return"".concat(d,"-").concat(i,"-").concat(a)};e.getCurrentDate=le;var ge=function(t){var a=le(),i=JSON.stringify(JSON.parse(t),null,2),d=new Blob([i],{type:"application/json"}),c=URL.createObjectURL(d),h=document.createElement("a");h.href=c,h.download="chat-store_".concat(a,".json"),document.body.appendChild(h),h.click(),document.body.removeChild(h)};e.exportJsonData=ge;var de=function(){var r=(0,u.default)(p.default.mark(function t(a,i,d){var c,h,L,S;return p.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.prev=0,c=a!=null?a:document.getElementById("image-wrapper"),H.next=4,(0,U.default)(c,{useCORS:!0});case 4:h=H.sent,L=h.toDataURL("image/png"),S=document.createElement("a"),S.style.display="none",S.href=L,S.setAttribute("download","chat-shot.png"),typeof S.download=="undefined"&&S.setAttribute("target","_blank"),document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(L),i&&i(),Promise.resolve(),H.next=22;break;case 19:H.prev=19,H.t0=H.catch(0),d&&d(H.t0.message);case 22:case"end":return H.stop()}},t,null,[[0,19]])}));return function(a,i,d){return r.apply(this,arguments)}}();e.saveHtmlToPng=de;var ye=function(t){return t.replace(/[，。！？”“"、,.!?]*$/,"")};e.trimTopic=ye;var te=function(){return new Promise(function(t,a){var i=document.createElement("input");i.type="file",i.accept="application/json",i.onchange=function(d){var c=d.target.files[0],h=new FileReader;h.onload=function(L){t(L.target.result)},h.onerror=function(L){return a(L)},h.readAsText(c)},i.click()})};e.readFromFile=te},95740:function(X,e,n){"use strict";n.r(e);var l=n(93379),C=n.n(l),p=n(7795),u=n.n(p),B=n(90569),w=n.n(B),v=n(3565),U=n.n(v),s=n(19216),I=n.n(s),g=n(44589),D=n.n(g),P=n(85671),y={};y.styleTagTransform=D(),y.setAttributes=U(),y.insert=w().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=I();var o=C()(P.Z,y);e.default=P.Z&&P.Z.locals?P.Z.locals:void 0},24654:function(){}}]);

//# sourceMappingURL=7761.fb89bb757b5ab64fd8cf.js.map