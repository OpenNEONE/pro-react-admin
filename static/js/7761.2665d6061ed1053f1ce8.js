(self.webpackChunkpro_react_admin=self.webpackChunkpro_react_admin||[]).push([[7761],{85671:function(Y,e,a){"use strict";var d=a(87537),C=a.n(d),p=a(23645),u=a.n(p),B=u()(C());B.push([Y.id,`.markdownBody--xUrgB {
  background: #282c34;
  padding: 5px;
  color: #fff;
  border-radius: 5px;
}

.copyBtn--aDTW7 {
  margin: 5px 10px;
  text-align: right;
  cursor: pointer;
}

.preCode--s6faO {
  margin-bottom: 10px;
}
`,"",{version:3,sources:["webpack://./src/components/stateless/ReMarkdown/index.module.less"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,mBAAmB;AACrB",sourcesContent:[`.markdownBody {
  background: #282c34;
  padding: 5px;
  color: #fff;
  border-radius: 5px;
}

.copyBtn {
  margin: 5px 10px;
  text-align: right;
  cursor: pointer;
}

.preCode {
  margin-bottom: 10px;
}
`],sourceRoot:""}]),B.locals={markdownBody:"markdownBody--xUrgB",copyBtn:"copyBtn--aDTW7",preCode:"preCode--s6faO"},e.Z=B},18722:function(Y,e,a){"use strict";var d=a(64836);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var C=d(a(67294)),p=function(w){var h=w.children;return C.default.createElement("div",{style:{width:"100%",minHeight:"calc(100vh - 232px)"}},h)},u=p;e.default=u},74710:function(Y,e,a){"use strict";var d=a(64836),C=a(18698);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=d(a(64687)),u=d(a(10434)),B=d(a(17156)),w=d(a(27424)),h=W(a(67294)),N=a(52724),s=d(a(76637)),I=d(a(19346)),g=d(a(36471)),D=d(a(96929)),P=d(a(17070)),y=d(a(44323)),l=d(a(3481)),F=d(a(11202)),M=a(24697);a(48085);var E=d(a(95740));function O(f){if(typeof WeakMap!="function")return null;var K=new WeakMap,T=new WeakMap;return(O=function(b){return b?T:K})(f)}function W(f,K){if(!K&&f&&f.__esModule)return f;if(f===null||C(f)!=="object"&&typeof f!="function")return{default:f};var T=O(K);if(T&&T.has(f))return T.get(f);var A={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in f)if(_!=="default"&&Object.prototype.hasOwnProperty.call(f,_)){var S=b?Object.getOwnPropertyDescriptor(f,_):null;S&&(S.get||S.set)?Object.defineProperty(A,_,S):A[_]=f[_]}return A.default=f,T&&T.set(f,A),A}var k=function(K){var T,A=(0,h.useRef)(null),b=(T=A.current)===null||T===void 0?void 0:T.innerText,_=(0,h.useState)(""),S=(0,w.default)(_,2),H=S[0],V=S[1],Q=(0,M.useDebouncedCallback)(function(){if(A.current){var G=A.current.querySelector("code.language-mermaid");G&&V(G.innerText)}},600);(0,h.useEffect)(function(){setTimeout(Q,1)},[b]);var ne=function(){var G=(0,B.default)(p.default.mark(function ee($){var J;return p.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(m.prev=0,!((J=navigator)!==null&&J!==void 0&&(J=J.clipboard)!==null&&J!==void 0&&J.writeText)){m.next=5;break}return m.next=4,navigator.clipboard.writeText($);case 4:N.message.success("\u5DF2\u6210\u529F\u590D\u5236\u5230\u526A\u8D34\u677F");case 5:m.next=10;break;case 7:m.prev=7,m.t0=m.catch(0),N.message.error("\u590D\u5236\u5230\u526A\u8D34\u677F\u5931\u8D25:".concat(m.t0.message));case 10:case"end":return m.stop()}},ee,null,[[0,7]])}));return function($){return G.apply(this,arguments)}}();return h.default.createElement("section",null,H.length>0&&h.default.createElement(s.default,{code:H,key:H}),h.default.createElement("div",{className:E.default.copyBtn,onClick:function(){return ne(b)}},"\u590D\u5236\u4EE3\u7801"),h.default.createElement("pre",{className:E.default.preCode,ref:A},K.children))},x=function(K){var T=K.markdownText,A=T===void 0?"":T;return h.default.createElement("section",{className:E.default.markdownBody},h.default.createElement(I.default,{remarkPlugins:[g.default,y.default,D.default],rehypePlugins:[P.default,F.default,[l.default,{detect:!1,ignoreMissing:!0}]],components:{pre:k,p:function(_){return h.default.createElement("p",(0,u.default)({},_,{dir:"auto"}))},a:function(_){var S,H=_.href||"",V=/^\/#/i.test(H),Q=V?"_self":(S=_.target)!==null&&S!==void 0?S:"_blank";return h.default.createElement("a",(0,u.default)({},_,{target:Q}))}}},A))},te=x;e.default=te},94138:function(Y,e,a){"use strict";var d=a(64836),C=a(18698);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=d(a(27424)),u=w(a(67294));function B(s){if(typeof WeakMap!="function")return null;var I=new WeakMap,g=new WeakMap;return(B=function(P){return P?g:I})(s)}function w(s,I){if(!I&&s&&s.__esModule)return s;if(s===null||C(s)!=="object"&&typeof s!="function")return{default:s};var g=B(I);if(g&&g.has(s))return g.get(s);var D={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in s)if(y!=="default"&&Object.prototype.hasOwnProperty.call(s,y)){var l=P?Object.getOwnPropertyDescriptor(s,y):null;l&&(l.get||l.set)?Object.defineProperty(D,y,l):D[y]=s[y]}return D.default=s,g&&g.set(s,D),D}var h=function(I){var g=I.children,D=I.delay,P=D===void 0?110:D,y=(0,u.useState)(0),l=(0,p.default)(y,2),F=l[0],M=l[1],E=setInterval(function(){return M(function(O){return O+1})},P);return(0,u.useEffect)(function(){F===g.length&&clearInterval(E)},[g,E,F]),(0,u.useEffect)(function(){return function(){return clearInterval(E)}},[E]),u.default.createElement(u.default.Fragment,null,g.substring(0,F))},N=(0,u.memo)(h);e.default=N},4585:function(Y,e,a){"use strict";var d=a(64836),C=a(18698);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=d(a(27424)),u=D(a(67294)),B=d(a(18722)),w=d(a(94138)),h=d(a(74710)),N=a(52724),s=a(10198),I=a(20708);function g(l){if(typeof WeakMap!="function")return null;var F=new WeakMap,M=new WeakMap;return(g=function(O){return O?M:F})(l)}function D(l,F){if(!F&&l&&l.__esModule)return l;if(l===null||C(l)!=="object"&&typeof l!="function")return{default:l};var M=g(F);if(M&&M.has(l))return M.get(l);var E={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in l)if(W!=="default"&&Object.prototype.hasOwnProperty.call(l,W)){var k=O?Object.getOwnPropertyDescriptor(l,W):null;k&&(k.get||k.set)?Object.defineProperty(E,W,k):E[W]=l[W]}return E.default=l,M&&M.set(l,E),E}var P=function(){var F=(0,u.useState)(""),M=(0,p.default)(F,2),E=M[0],O=M[1],W=(0,u.useRef)(null),k=(0,u.useState)(!1),x=(0,p.default)(k,2),te=x[0],f=x[1],K=(0,u.useState)(function(){return""}),T=(0,p.default)(K,2),A=T[0],b=T[1],_=(0,u.useState)(""),S=(0,p.default)(_,2),H=S[0],V=S[1],Q=(0,u.useRef)(null),ne=function(m){b(m.target.value)},G=function(m){V(m.target.value)},ee=function(m){m.metaKey&&m.key==="Enter"&&($(),m.preventDefault())},$=function(){if(H.trim()!==""){var m=new AbortController;J(H,A,m)}},J=function(m,le,de){W.current=null,O(W);var ce=de.signal;f(!0),(0,I.oneApiChat)([{content:m,role:"user"}],le,ce).then(function(j){f(!1);var U=j.headers.get("content-type");if(!j.ok||!(U!=null&&U.startsWith("text/event-stream"))||j.status!==200){if(U!=null&&U.startsWith("text/html")){var se=j.clone().text();se.then(function(Z){O(Z.toString())})}else if(U!=null&&U.startsWith("text/plain")){var fe=j.clone().text();fe.then(function(Z){O(Z.toString())})}else if(U!=null&&U.startsWith("application/json")){var me=j.clone().json();me.then(function(Z){O("".concat(JSON.stringify(Z)))})}}else{var ae,ve=j==null||(ae=j.body)===null||ae===void 0?void 0:ae.getReader(),re=`

`,X="",ue="",he=function Z(){ve.read().then(function(ie){var ge=ie.done,ye=ie.value;if(!ge){for(X+=new TextDecoder().decode(ye);X.includes(re);){var oe=X.indexOf(re),r=X.slice(0,oe),t=r.split("data: ");for(var n in t)if(t[n]!==""&&t[n]!=="[DONE]")try{var i,o,c=JSON.parse(t[n]),v=(i=(o=c.choices[0])===null||o===void 0||(o=o.delta)===null||o===void 0?void 0:o.content)!==null&&i!==void 0?i:"";ue+=v,W.current=ue,O(W.current.toString())}catch(L){}X=X.slice(oe+re.length)}Z()}}).catch(function(ie){})};he()}}).catch(function(j){f(!1),O(j.message)})};return u.default.createElement(B.default,null,u.default.createElement("h2",null,u.default.createElement(w.default,null,"Cool! Hi, React & Ant Design!")),u.default.createElement("h2",null,"React version: ",u.version),u.default.createElement("section",{style:{width:400,margin:"30px 0"}},u.default.createElement(N.Input,{defaultValue:A,placeholder:"api key",onChange:ne,style:{marginBottom:20}}),u.default.createElement(N.Flex,{align:"center"},u.default.createElement(N.Input.TextArea,{ref:Q,defaultValue:H,placeholder:"\u6765\uFF0C\u8BF4\u70B9\u4EC0\u4E48\u5457...Meta + Enter\u53D1\u9001",onChange:G,onKeyDown:ee,autoSize:!0}),u.default.createElement(N.Button,{icon:u.default.createElement(s.SendOutlined,{rotate:-60}),type:"link",onClick:$},"\u53D1\u9001"))),E?u.default.createElement("section",{style:{background:"#282c34",color:"#fff",borderRadius:4,padding:5}},te?"AI\u601D\u8003\u4E2D...":u.default.createElement(h.default,{markdownText:E})):null)},y=P;e.default=y},20708:function(Y,e,a){"use strict";var d=a(34155),C=a(64836);Object.defineProperty(e,"__esModule",{value:!0}),e.trimTopic=e.toFixedBug=e.toFixed=e.toCamelCase=e.sleep=e.shuffleArr=e.saveHtmlToPng=e.reqStringify=e.readFromFile=e.randomString=e.randomNum=e.randomItem=e.randomHex=e.randomColor=e.random=e.promiseWithTimeout=e.pause=e.oneApiChat=e.limitDecimal=e.isURLSearchParams=e.isObject=e.isNotEmpty=e.isEqual=e.isEmptyArray=e.isDecimal=e.isDate=e.isDarkMode=e.isArray=e.hidePhone=e.hasFocus=e.getType=e.getRandomId=e.getParamObject=e.getImgsUrl=e.getEnv=e.getCurrentDate=e.fetchSomething=e.exportJsonData=e.escape=e.dayDif=e.customizeTimer=e.copyTextToClipboard=e.clearCookies=e.checkIsLocalPage=e.capitalize=e.camelizeCamelCase=e.asyncTo=e.asyncAction=e.ThousandNum=e.RoundNum=e.RandomId=void 0;var p=C(a(64687)),u=C(a(17156)),B=C(a(861)),w=C(a(18698)),h=a(80129),N=C(a(61120)),s=function(){var t;return typeof d!="undefined"&&Object.prototype.toString.call(d)==="[object process]"&&(t="NODE"),typeof XMLHttpRequest!="undefined"&&(t="BROWSER"),t};e.getEnv=s;var I=function(t){return(0,w.default)(t)==="object"&&Object.prototype.toString.call(t)==="[object Array]"};e.isArray=I;var g=function(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams};e.isURLSearchParams=g;var D=function(t){return(0,w.default)(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"};e.isDate=D;var P=function(t){return t!==null&&(0,w.default)(t)==="object"};e.isObject=P;var y=function(t){return g(t)?(0,h.parse)(t.toString(),{strictNullHandling:!0}):typeof t=="string"?[t]:t};e.getParamObject=y;var l=function(t){return(0,h.stringify)(t,{arrayFormat:"repeat",strictNullHandling:!0})};e.reqStringify=l;var F=function(t){var n=(0,w.default)(t);return n!=="object"?n:Object.prototype.toString.call(t).replace(/^$/,"$1")};e.getType=F;var M=function(t){return t==null?void 0:t.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")};e.hidePhone=M;var E=function(t){var n=Promise.resolve(t);return function(i){n.then(function(){return setTimeout(function(){return i()})})}};e.asyncAction=E;var O=function(t){var n=/<img.*?(?:>|\/>)/gi,i=/src=['"]?([^'"]*)['"]?/i,o=t.match(n);if(!o)return null;var c=o.reduce(function(v,L){var R=L.match(i);return R[1]?[].concat((0,B.default)(v),[R[1]]):v},[]);return c};e.getImgsUrl=O;var W={intervalTimer:null,timeoutTimer:null,setTimeout:function(t,n){var i=this,o=Date.now,c=o(),v=c,L=function R(){i.timeoutTimer=requestAnimationFrame(R),v=o(),v-c>=n&&(t(),cancelAnimationFrame(i.timeoutTimer))};return this.timeoutTimer=requestAnimationFrame(L),this.timeoutTimer},clearTimeout:function(){cancelAnimationFrame(this.timeoutTimer)},setInterval:function(t,n){var i=this,o=Date.now,c=o(),v=c,L=function R(){i.intervalTimer=requestAnimationFrame(R),v=o(),v-c>=n&&(c=o(),v=c,t())};return this.intervalTimer=requestAnimationFrame(L),this.intervalTimer},clearInterval:function(){cancelAnimationFrame(this.intervalTimer)}};e.customizeTimer=W;var k=function(t){var n=/(?:^[1-9](\d+)?(?:\.\d{1,2})?$)|(?:^(?:0)$)|(?:^\d\.\d(?:\d)?$)/;return n.test(t)};e.isDecimal=k;var x=function(t){return t.replace(/^(-)*(\d+)\.(\d\d).*$/,"$1$2.$3")};e.limitDecimal=x;var te=function(){document.addEventListener("visibilitychange",function(){if(document.visibilityState==="hidden")return!1;if(document.visibilityState==="visible")return!0;window.addEventListener("pagehide",function(t){t.persisted},!1)})};e.checkIsLocalPage=te;var f=function(){return"#".concat(Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0"))};e.randomHex=f;var K=document.cookie.split(";").forEach(function(r){return document.cookie=r.replace(/^ +/,"").replace(/[=].*/,"=;expires=".concat(new Date(0).toUTCString(),";path=/"))});e.clearCookies=K;var T=function(t,n){return Math.ceil(Math.abs(t.getTime()-n.getTime())/864e5)};e.dayDif=T;var A=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};e.capitalize=A;var b=function(t){return Array.isArray(t)&&t.length>0};e.isNotEmpty=b;var _=window.matchMedia("(prefers-color-scheme: dark)").matches;e.isDarkMode=_;var S=function(){return new Promise(function(t){setTimeout(function(){t("")},1e3)})};e.fetchSomething=S;var H=function(t,n){if(typeof t!="number")throw new Error("number\u4E0D\u662F\u6570\u5B57");var i=Math.round(Math.pow(10,n)*t)/Math.pow(10,n);if(i=String(i),i.indexOf(".")===-1)n!==0&&(i+=".",i+=new Array(n+1).join("0"));else{var o=i.split(".");o[1].length<n&&(o[1]+=new Array(n-o[1].length+1).join("0")),i=o.join(".")}return i};e.toFixed=H;var V=function(t,n){return~~(Math.pow(10,n)*t)/Math.pow(10,n)};e.toFixedBug=V;var Q=function(t,n){var i=new Promise(function(o){return setTimeout(function(){return o("Time Out!")},n)});return Promise.race([i,t])};e.promiseWithTimeout=Q;var ne=function(t){return t.sort(function(){return .5-Math.random()})};e.shuffleArr=ne;var G=function(t){return new Promise(function(n){return setTimeout(function(){return n()},t)})};e.sleep=G;var ee=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};e.ThousandNum=ee;var $=function(t){return Math.random().toString(36).substring(3,t)};e.RandomId=$;var J=function(t,n){return Math.round(t*Math.pow(10,n))/Math.pow(10,n)};e.RoundNum=J;var q=function(t,n){return Math.floor(Math.random()*(n-t+1))+t};e.randomNum=q;var m=function(t){return Array.isArray(t)&&!t.length};e.isEmptyArray=m;var le=function(t){return t[Math.floor(Math.random()*t.length)]};e.randomItem=le;var de=function(t){return t.then(function(n){return[null,n]}).catch(function(n){return[n]})};e.asyncTo=de;var ce=function(t){return t===document.activeElement};e.hasFocus=ce;var j=function(t,n){return JSON.stringify(t)===JSON.stringify(n)};e.isEqual=j;var U=function(){return Math.random().toString(36).slice(2)};e.randomString=U;var se=function(t){return t.replace(/[&<>"']/g,function(n){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[n]})};e.escape=se;var fe=function(t){return t.trim().replace(/[-_\s]+(.)?/g,function(n,i){return i?i.toUpperCase():""})};e.toCamelCase=fe;var me=function(t,n){return Math.floor(Math.random()*(n-t+1)+t)};e.random=me;var ae=function(){return"#".concat(Math.random().toString(16).slice(2,8).padEnd(6,"0"))};e.randomColor=ae;var ve=function(t){return new Promise(function(n){return setTimeout(n,t)})};e.pause=ve;var re=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(n,i){return i===0?n.toLowerCase():n.toUpperCase()}).replace(/\s+/g,"")};e.camelizeCamelCase=re;var X=function(){var r=(0,u.default)(p.default.mark(function t(n){var i;return p.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,!((i=navigator)!==null&&i!==void 0&&(i=i.clipboard)!==null&&i!==void 0&&i.writeText)){c.next=4;break}return c.next=4,navigator.clipboard.writeText(n);case 4:c.next=8;break;case 6:c.prev=6,c.t0=c.catch(0);case 8:case"end":return c.stop()}},t,null,[[0,6]])}));return function(n){return r.apply(this,arguments)}}();e.copyTextToClipboard=X;var ue=function(){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<32;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t};e.getRandomId=ue;var he=function(t,n,i){return fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:i,headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:t,stream:!0})})};e.oneApiChat=he;var Z=function(){var t=new Date,n=t.getDate(),i=t.getMonth()+1,o=t.getFullYear();return"".concat(o,"-").concat(i,"-").concat(n)};e.getCurrentDate=Z;var ie=function(t){var n=Z(),i=JSON.stringify(JSON.parse(t),null,2),o=new Blob([i],{type:"application/json"}),c=URL.createObjectURL(o),v=document.createElement("a");v.href=c,v.download="chat-store_".concat(n,".json"),document.body.appendChild(v),v.click(),document.body.removeChild(v)};e.exportJsonData=ie;var ge=function(){var r=(0,u.default)(p.default.mark(function t(n,i,o){var c,v,L,R;return p.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,c=n!=null?n:document.getElementById("image-wrapper"),z.next=4,(0,N.default)(c,{useCORS:!0});case 4:v=z.sent,L=v.toDataURL("image/png"),R=document.createElement("a"),R.style.display="none",R.href=L,R.setAttribute("download","chat-shot.png"),typeof R.download=="undefined"&&R.setAttribute("target","_blank"),document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(L),i&&i(),Promise.resolve(),z.next=22;break;case 19:z.prev=19,z.t0=z.catch(0),o&&o(z.t0.message);case 22:case"end":return z.stop()}},t,null,[[0,19]])}));return function(n,i,o){return r.apply(this,arguments)}}();e.saveHtmlToPng=ge;var ye=function(t){return t.replace(/[，。！？”“"、,.!?]*$/,"")};e.trimTopic=ye;var oe=function(){return new Promise(function(t,n){var i=document.createElement("input");i.type="file",i.accept="application/json",i.onchange=function(o){var c=o.target.files[0],v=new FileReader;v.onload=function(L){t(L.target.result)},v.onerror=function(L){return n(L)},v.readAsText(c)},i.click()})};e.readFromFile=oe},95740:function(Y,e,a){"use strict";a.r(e);var d=a(93379),C=a.n(d),p=a(7795),u=a.n(p),B=a(90569),w=a.n(B),h=a(3565),N=a.n(h),s=a(19216),I=a.n(s),g=a(44589),D=a.n(g),P=a(85671),y={};y.styleTagTransform=D(),y.setAttributes=N(),y.insert=w().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=I();var l=C()(P.Z,y);e.default=P.Z&&P.Z.locals?P.Z.locals:void 0},24654:function(){}}]);

//# sourceMappingURL=7761.2665d6061ed1053f1ce8.js.map