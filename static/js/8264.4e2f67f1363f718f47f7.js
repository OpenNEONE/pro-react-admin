"use strict";var W=(dt,et,Y)=>new Promise((o,M)=>{var F=P=>{try{V(Y.next(P))}catch(at){M(at)}},rt=P=>{try{V(Y.throw(P))}catch(at){M(at)}},V=P=>P.done?o(P.value):Promise.resolve(P.value).then(F,rt);V((Y=Y.apply(dt,et)).next())});(self.webpackChunkpro_react_admin=self.webpackChunkpro_react_admin||[]).push([[8264],{19085:function(dt,et,Y){Y.d(et,{c:function(){return S}});var o=Y(15581),M=Y(25260),F=Y(18464);function rt(h){const y=h.replace(/\n{2,}/g,`
`);return(0,F.Z)(y)}function V(h){const y=rt(h),{children:x}=(0,M.V)(y),v=[[]];let T=0;function B(g,m="normal"){g.type==="text"?g.value.split(`
`).forEach((b,I)=>{I!==0&&(T++,v.push([])),b.split(" ").forEach($=>{$&&v[T].push({content:$,type:m})})}):(g.type==="strong"||g.type==="emphasis")&&g.children.forEach(k=>{B(k,g.type)})}return x.forEach(g=>{g.type==="paragraph"&&g.children.forEach(m=>{B(m)})}),v}function P(h){const{children:y}=(0,M.V)(h);function x(v){return v.type==="text"?v.value.replace(/\n/g,"<br/>"):v.type==="strong"?`<strong>${v.children.map(x).join("")}</strong>`:v.type==="emphasis"?`<em>${v.children.map(x).join("")}</em>`:v.type==="paragraph"?`<p>${v.children.map(x).join("")}</p>`:`Unsupported markdown: ${v.type}`}return y.map(x).join("")}function at(h,y){y&&h.attr("style",y)}function it(h,y,x,v,T=!1){const B=h.append("foreignObject"),g=B.append("xhtml:div"),m=y.label,k=y.isNode?"nodeLabel":"edgeLabel";g.html(`
    <span class="${k} ${v}" `+(y.labelStyle?'style="'+y.labelStyle+'"':"")+">"+m+"</span>"),at(g,y.labelStyle),g.style("display","table-cell"),g.style("white-space","nowrap"),g.style("max-width",x+"px"),g.attr("xmlns","http://www.w3.org/1999/xhtml"),T&&g.attr("class","labelBkg");let b=g.node().getBoundingClientRect();return b.width===x&&(g.style("display","table"),g.style("white-space","break-spaces"),g.style("width",x+"px"),b=g.node().getBoundingClientRect()),B.style("width",b.width),B.style("height",b.height),B.node()}function nt(h,y,x){return h.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",y*x-.1+"em").attr("dy",x+"em")}function lt(h,y,x){const v=h.append("text"),T=nt(v,1,y);_(T,[{content:x,type:"normal"}]);const B=T.node().getComputedTextLength();return v.remove(),B}function pt(h,y,x,v=!1){const B=y.append("g");let g=B.insert("rect").attr("class","background");const m=B.append("text").attr("y","-10.1");let k=0;if(x.forEach(b=>{let I=b.map(O=>O.content).join(" "),$="",A=[],j=0;if(lt(B,1.1,I)<=h)A.push(I);else{for(let O=0;O<=I.length;O++)if($=I.slice(j,O),o.l.info($,j,O),lt(B,1.1,$)>h){const Z=I.slice(j,O).lastIndexOf(" ");Z>-1&&(O=j+Z+1),A.push(I.slice(j,O).trim()),j=O,$=null}$!=null&&A.push($)}const Q=A.map(O=>({content:O,type:b.type}));for(const O of Q){let N=nt(m,k,1.1);_(N,[O]),k++}}),v){const b=m.node().getBBox(),I=2;return g.attr("x",-I).attr("y",-I).attr("width",b.width+2*I).attr("height",b.height+2*I),B.node()}else return m.node()}function _(h,y){h.text(""),y.forEach((x,v)=>{const T=h.append("tspan").attr("font-style",x.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",x.type==="strong"?"bold":"normal");v===0?T.text(x.content):T.text(" "+x.content)})}const S=(h,y="",{style:x="",isTitle:v=!1,classes:T="",useHtmlLabels:B=!0,isNode:g=!0,width:m,addSvgBackground:k=!1}={})=>{if(o.l.info("createText",y,x,v,T,B,g,k),B){const b=P(y),I={isNode:g,label:(0,o.H)(b).replace(/fa[blrs]?:fa-[\w-]+/g,A=>`<i class='${A.replace(":"," ")}'></i>`),labelStyle:x.replace("fill:","color:")};return it(h,I,m,T,k)}else{const b=V(y);return pt(m,h,b,k)}}},48264:function(dt,et,Y){Y.d(et,{a:function(){return x},b:function(){return Dt},c:function(){return g},d:function(){return Pt},e:function(){return Ut},f:function(){return Zt},g:function(){return Jt},h:function(){return Kt},i:function(){return Z},l:function(){return m},p:function(){return Xt},s:function(){return jt},u:function(){return k}});var o=Y(15581),M=Y(61491),F=Y(19085),rt=Y(98237);const V=(r,t,e,n)=>{t.forEach(a=>{y[a](r,e,n)})},y={extension:(r,t,e)=>{o.l.trace("Making markers for ",e),r.append("defs").append("marker").attr("id",t+"-extensionStart").attr("class","marker extension "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),r.append("defs").append("marker").attr("id",t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),r.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),r.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),r.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(r,t)=>{r.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),r.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(r,t)=>{r.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),r.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(r,t)=>{r.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),r.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(r,t)=>{r.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},x=V;function v(r,t){t&&r.attr("style",t)}function T(r){const t=(0,M.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),e=t.append("xhtml:div"),n=r.label,a=r.isNode?"nodeLabel":"edgeLabel";return e.html('<span class="'+a+'" '+(r.labelStyle?'style="'+r.labelStyle+'"':"")+">"+n+"</span>"),v(e,r.labelStyle),e.style("display","inline-block"),e.style("white-space","nowrap"),e.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}const g=(r,t,e,n)=>{let a=r||"";if(typeof a=="object"&&(a=a[0]),(0,o.n)((0,o.c)().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),o.l.info("vertexText"+a);const s={isNode:n,label:(0,o.H)(a).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return T(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let i=[];typeof a=="string"?i=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?i=a:i=[];for(const l of i){const c=document.createElementNS("http://www.w3.org/2000/svg","tspan");c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),c.setAttribute("dy","1em"),c.setAttribute("x","0"),e?c.setAttribute("class","title-row"):c.setAttribute("class","row"),c.textContent=l.trim(),s.appendChild(c)}return s}},m=(r,t,e,n)=>W(this,null,function*(){let a;const s=t.useHtmlLabels||(0,o.n)((0,o.c)().flowchart.htmlLabels);e?a=e:a="node default";const i=r.insert("g").attr("class",a).attr("id",t.domId||t.id),l=i.insert("g").attr("class","label").attr("style",t.labelStyle);let c;t.labelText===void 0?c="":c=typeof t.labelText=="string"?t.labelText:t.labelText[0];const p=l.node();let d;t.labelType==="markdown"?d=(0,F.c)(l,(0,o.d)((0,o.H)(c),(0,o.c)()),{useHtmlLabels:s,width:t.width||(0,o.c)().flowchart.wrappingWidth,classes:"markdown-node-label"}):d=p.appendChild(g((0,o.d)((0,o.H)(c),(0,o.c)()),t.labelStyle,!1,n));let f=d.getBBox();const E=t.padding/2;if((0,o.n)((0,o.c)().flowchart.htmlLabels)){const u=d.children[0],w=(0,M.Ys)(d),L=u.getElementsByTagName("img");if(L){const R=c.replace(/<img[^>]*>/g,"").trim()==="";yield Promise.all([...L].map(H=>new Promise(G=>H.addEventListener("load",function(){if(H.style.display="flex",H.style.flexDirection="column",R){const J=(0,o.c)().fontSize?(0,o.c)().fontSize:window.getComputedStyle(document.body).fontSize,D=5;H.style.width=parseInt(J,10)*D+"px"}else H.style.width="100%";G(H)}))))}f=u.getBoundingClientRect(),w.attr("width",f.width),w.attr("height",f.height)}return s?l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):l.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:i,bbox:f,halfPadding:E,label:l}}),k=(r,t)=>{const e=t.node().getBBox();r.width=e.width,r.height=e.height};function b(r,t,e,n){return r.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+e/2+")")}function I(r,t){return r.intersect(t)}function $(r,t,e,n){var a=r.x,s=r.y,i=a-n.x,l=s-n.y,c=Math.sqrt(t*t*l*l+e*e*i*i),p=Math.abs(t*e*i/c);n.x<a&&(p=-p);var d=Math.abs(t*e*l/c);return n.y<s&&(d=-d),{x:a+p,y:s+d}}function A(r,t,e){return $(r,t,t,e)}function j(r,t,e,n){var a,s,i,l,c,p,d,f,E,u,w,L,R,H,G;if(a=t.y-r.y,i=r.x-t.x,c=t.x*r.y-r.x*t.y,E=a*e.x+i*e.y+c,u=a*n.x+i*n.y+c,!(E!==0&&u!==0&&Q(E,u))&&(s=n.y-e.y,l=e.x-n.x,p=n.x*e.y-e.x*n.y,d=s*r.x+l*r.y+p,f=s*t.x+l*t.y+p,!(d!==0&&f!==0&&Q(d,f))&&(w=a*l-s*i,w!==0)))return L=Math.abs(w/2),R=i*p-l*c,H=R<0?(R-L)/w:(R+L)/w,R=s*c-a*p,G=R<0?(R-L)/w:(R+L)/w,{x:H,y:G}}function Q(r,t){return r*t>0}function O(r,t,e){var n=r.x,a=r.y,s=[],i=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(w){i=Math.min(i,w.x),l=Math.min(l,w.y)}):(i=Math.min(i,t.x),l=Math.min(l,t.y));for(var c=n-r.width/2-i,p=a-r.height/2-l,d=0;d<t.length;d++){var f=t[d],E=t[d<t.length-1?d+1:0],u=j(r,e,{x:c+f.x,y:p+f.y},{x:c+E.x,y:p+E.y});u&&s.push(u)}return s.length?(s.length>1&&s.sort(function(w,L){var R=w.x-e.x,H=w.y-e.y,G=Math.sqrt(R*R+H*H),J=L.x-e.x,D=L.y-e.y,ot=Math.sqrt(J*J+D*D);return G<ot?-1:G===ot?0:1}),s[0]):r}const Z=(r,t)=>{var e=r.x,n=r.y,a=t.x-e,s=t.y-n,i=r.width/2,l=r.height/2,c,p;return Math.abs(s)*i>Math.abs(a)*l?(s<0&&(l=-l),c=s===0?0:l*a/s,p=l):(a<0&&(i=-i),c=i,p=a===0?0:i*s/a),{x:e+c,y:n+p}},C={node:I,circle:A,ellipse:$,polygon:O,rect:Z},ut=(r,t)=>W(this,null,function*(){t.useHtmlLabels||(0,o.c)().flowchart.htmlLabels||(t.centerLabel=!0);const{shapeSvg:n,bbox:a,halfPadding:s}=yield m(r,t,"node "+t.classes,!0);o.l.info("Classes = ",t.classes);const i=n.insert("rect",":first-child");return i.attr("rx",t.rx).attr("ry",t.ry).attr("x",-a.width/2-s).attr("y",-a.height/2-s).attr("width",a.width+t.padding).attr("height",a.height+t.padding),k(t,i),t.intersect=function(l){return C.rect(t,l)},n}),xt=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=n.height+t.padding,i=a+s,l=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}];o.l.info("Question main (Circle)");const c=b(e,i,i,l);return c.attr("style",t.style),k(t,c),t.intersect=function(p){return o.l.warn("Intersect called"),C.polygon(t,l,p)},e}),Lt=(r,t)=>{const e=r.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,a=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return e.insert("polygon",":first-child").attr("points",a.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(i){return C.circle(t,14,i)},e},St=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=4,s=n.height+t.padding,i=s/a,l=n.width+2*i+t.padding,c=[{x:i,y:0},{x:l-i,y:0},{x:l,y:-s/2},{x:l-i,y:-s},{x:i,y:-s},{x:0,y:-s/2}],p=b(e,l,s,c);return p.attr("style",t.style),k(t,p),t.intersect=function(d){return C.polygon(t,c,d)},e}),Et=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:-s/2,y:0},{x:a,y:0},{x:a,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return b(e,a,s,i).attr("style",t.style),t.width=a+s,t.height=s,t.intersect=function(c){return C.polygon(t,i,c)},e}),_t=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:-2*s/6,y:0},{x:a-s/6,y:0},{x:a+2*s/6,y:-s},{x:s/6,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),k(t,l),t.intersect=function(c){return C.polygon(t,i,c)},e}),Mt=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:2*s/6,y:0},{x:a+s/6,y:0},{x:a-2*s/6,y:-s},{x:-s/6,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),k(t,l),t.intersect=function(c){return C.polygon(t,i,c)},e}),Bt=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:-2*s/6,y:0},{x:a+2*s/6,y:0},{x:a-s/6,y:-s},{x:s/6,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),k(t,l),t.intersect=function(c){return C.polygon(t,i,c)},e}),Tt=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:s/6,y:0},{x:a-s/6,y:0},{x:a+2*s/6,y:-s},{x:-2*s/6,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),k(t,l),t.intersect=function(c){return C.polygon(t,i,c)},e}),Ct=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:0,y:0},{x:a+s/2,y:0},{x:a,y:-s/2},{x:a+s/2,y:-s},{x:0,y:-s}],l=b(e,a,s,i);return l.attr("style",t.style),k(t,l),t.intersect=function(c){return C.polygon(t,i,c)},e}),It=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=a/2,i=s/(2.5+a/50),l=n.height+i+t.padding,c="M 0,"+i+" a "+s+","+i+" 0,0,0 "+a+" 0 a "+s+","+i+" 0,0,0 "+-a+" 0 l 0,"+l+" a "+s+","+i+" 0,0,0 "+a+" 0 l 0,"+-l,p=e.attr("label-offset-y",i).insert("path",":first-child").attr("style",t.style).attr("d",c).attr("transform","translate("+-a/2+","+-(l/2+i)+")");return k(t,p),t.intersect=function(d){const f=C.rect(t,d),E=f.x-t.x;if(s!=0&&(Math.abs(E)<t.width/2||Math.abs(E)==t.width/2&&Math.abs(f.y-t.y)>t.height/2-i)){let u=i*i*(1-E*E/(s*s));u!=0&&(u=Math.sqrt(u)),u=i-u,d.y-t.y>0&&(u=-u),f.y+=u}return f},e}),Rt=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n,halfPadding:a}=yield m(r,t,"node "+t.classes,!0),s=e.insert("rect",":first-child"),i=n.width+t.padding,l=n.height+t.padding;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-a).attr("y",-n.height/2-a).attr("width",i).attr("height",l),t.props){const c=new Set(Object.keys(t.props));t.props.borders&&(bt(s,t.props.borders,i,l),c.delete("borders")),c.forEach(p=>{o.l.warn(`Unknown node property ${p}`)})}return k(t,s),t.intersect=function(c){return C.rect(t,c)},e}),Ht=(r,t)=>W(this,null,function*(){const{shapeSvg:e}=yield m(r,t,"label",!0);o.l.trace("Classes = ",t.classes);const n=e.insert("rect",":first-child"),a=0,s=0;if(n.attr("width",a).attr("height",s),e.attr("class","label edgeLabel"),t.props){const i=new Set(Object.keys(t.props));t.props.borders&&(bt(n,t.props.borders,a,s),i.delete("borders")),i.forEach(l=>{o.l.warn(`Unknown node property ${l}`)})}return k(t,n),t.intersect=function(i){return C.rect(t,i)},e});function bt(r,t,e,n){const a=[],s=l=>{a.push(l,0)},i=l=>{a.push(0,l)};t.includes("t")?(o.l.debug("add top border"),s(e)):i(e),t.includes("r")?(o.l.debug("add right border"),s(n)):i(n),t.includes("b")?(o.l.debug("add bottom border"),s(e)):i(e),t.includes("l")?(o.l.debug("add left border"),s(n)):i(n),r.attr("stroke-dasharray",a.join(" "))}const Nt=(r,t)=>{let e;t.classes?e="node "+t.classes:e="node default";const n=r.insert("g").attr("class",e).attr("id",t.domId||t.id),a=n.insert("rect",":first-child"),s=n.insert("line"),i=n.insert("g").attr("class","label"),l=t.labelText.flat?t.labelText.flat():t.labelText;let c="";typeof l=="object"?c=l[0]:c=l,o.l.info("Label text abc79",c,l,typeof l=="object");const p=i.node().appendChild(g(c,t.labelStyle,!0,!0));let d={width:0,height:0};if((0,o.n)((0,o.c)().flowchart.htmlLabels)){const L=p.children[0],R=(0,M.Ys)(p);d=L.getBoundingClientRect(),R.attr("width",d.width),R.attr("height",d.height)}o.l.info("Text 2",l);const f=l.slice(1,l.length);let E=p.getBBox();const u=i.node().appendChild(g(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0));if((0,o.n)((0,o.c)().flowchart.htmlLabels)){const L=u.children[0],R=(0,M.Ys)(u);d=L.getBoundingClientRect(),R.attr("width",d.width),R.attr("height",d.height)}const w=t.padding/2;return(0,M.Ys)(u).attr("transform","translate( "+(d.width>E.width?0:(E.width-d.width)/2)+", "+(E.height+w+5)+")"),(0,M.Ys)(p).attr("transform","translate( "+(d.width<E.width?0:-(E.width-d.width)/2)+", 0)"),d=i.node().getBBox(),i.attr("transform","translate("+-d.width/2+", "+(-d.height/2-w+3)+")"),a.attr("class","outer title-state").attr("x",-d.width/2-w).attr("y",-d.height/2-w).attr("width",d.width+t.padding).attr("height",d.height+t.padding),s.attr("class","divider").attr("x1",-d.width/2-w).attr("x2",d.width/2+w).attr("y1",-d.height/2-w+E.height+w).attr("y2",-d.height/2-w+E.height+w),k(t,a),t.intersect=function(L){return C.rect(t,L)},n},Ot=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.height+t.padding,s=n.width+a/4+t.padding,i=e.insert("rect",":first-child").attr("style",t.style).attr("rx",a/2).attr("ry",a/2).attr("x",-s/2).attr("y",-a/2).attr("width",s).attr("height",a);return k(t,i),t.intersect=function(l){return C.rect(t,l)},e}),$t=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n,halfPadding:a}=yield m(r,t,void 0,!0),s=e.insert("circle",":first-child");return s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a).attr("width",n.width+t.padding).attr("height",n.height+t.padding),o.l.info("Circle main"),k(t,s),t.intersect=function(i){return o.l.info("Circle intersect",t,n.width/2+a,i),C.circle(t,n.width/2+a,i)},e}),Yt=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n,halfPadding:a}=yield m(r,t,void 0,!0),s=5,i=e.insert("g",":first-child"),l=i.insert("circle"),c=i.insert("circle");return i.attr("class",t.class),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a+s).attr("width",n.width+t.padding+s*2).attr("height",n.height+t.padding+s*2),c.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a).attr("width",n.width+t.padding).attr("height",n.height+t.padding),o.l.info("DoubleCircle main"),k(t,l),t.intersect=function(p){return o.l.info("DoubleCircle intersect",t,n.width/2+a+s,p),C.circle(t,n.width/2+a+s,p)},e}),Wt=(r,t)=>W(this,null,function*(){const{shapeSvg:e,bbox:n}=yield m(r,t,void 0,!0),a=n.width+t.padding,s=n.height+t.padding,i=[{x:0,y:0},{x:a,y:0},{x:a,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],l=b(e,a,s,i);return l.attr("style",t.style),k(t,l),t.intersect=function(c){return C.polygon(t,i,c)},e}),At=(r,t)=>{const e=r.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=e.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),k(t,n),t.intersect=function(a){return C.circle(t,7,a)},e},wt=(r,t,e)=>{const n=r.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a=70,s=10;e==="LR"&&(a=10,s=70);const i=n.append("rect").attr("x",-1*a/2).attr("y",-1*s/2).attr("width",a).attr("height",s).attr("class","fork-join");return k(t,i),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(l){return C.rect(t,l)},n},mt={rhombus:xt,question:xt,rect:Rt,labelRect:Ht,rectWithTitle:Nt,choice:Lt,circle:$t,doublecircle:Yt,stadium:Ot,hexagon:St,rect_left_inv_arrow:Et,lean_right:_t,lean_left:Mt,trapezoid:Bt,inv_trapezoid:Tt,rect_right_inv_arrow:Ct,cylinder:It,start:At,end:(r,t)=>{const e=r.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=e.insert("circle",":first-child"),a=e.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),k(t,a),t.intersect=function(s){return C.circle(t,7,s)},e},note:ut,subroutine:Wt,fork:wt,join:wt,class_box:(r,t)=>{const e=t.padding/2,n=4,a=8;let s;t.classes?s="node "+t.classes:s="node default";const i=r.insert("g").attr("class",s).attr("id",t.domId||t.id),l=i.insert("rect",":first-child"),c=i.insert("line"),p=i.insert("line");let d=0,f=n;const E=i.insert("g").attr("class","label");let u=0;const w=t.classData.annotations&&t.classData.annotations[0],L=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",R=E.node().appendChild(g(L,t.labelStyle,!0,!0));let H=R.getBBox();if((0,o.n)((0,o.c)().flowchart.htmlLabels)){const X=R.children[0],K=(0,M.Ys)(R);H=X.getBoundingClientRect(),K.attr("width",H.width),K.attr("height",H.height)}t.classData.annotations[0]&&(f+=H.height+n,d+=H.width);let G=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&((0,o.c)().flowchart.htmlLabels?G+="&lt;"+t.classData.type+"&gt;":G+="<"+t.classData.type+">");const J=E.node().appendChild(g(G,t.labelStyle,!0,!0));(0,M.Ys)(J).attr("class","classTitle");let D=J.getBBox();if((0,o.n)((0,o.c)().flowchart.htmlLabels)){const X=J.children[0],K=(0,M.Ys)(J);D=X.getBoundingClientRect(),K.attr("width",D.width),K.attr("height",D.height)}f+=D.height+n,D.width>d&&(d=D.width);const ot=[];t.classData.members.forEach(X=>{const K=(0,rt.p)(X);let st=K.displayText;(0,o.c)().flowchart.htmlLabels&&(st=st.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const tt=E.node().appendChild(g(st,K.cssStyle?K.cssStyle:t.labelStyle,!0,!0));let z=tt.getBBox();if((0,o.n)((0,o.c)().flowchart.htmlLabels)){const yt=tt.children[0],ht=(0,M.Ys)(tt);z=yt.getBoundingClientRect(),ht.attr("width",z.width),ht.attr("height",z.height)}z.width>d&&(d=z.width),f+=z.height+n,ot.push(tt)}),f+=a;const vt=[];if(t.classData.methods.forEach(X=>{const K=(0,rt.p)(X);let st=K.displayText;(0,o.c)().flowchart.htmlLabels&&(st=st.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const tt=E.node().appendChild(g(st,K.cssStyle?K.cssStyle:t.labelStyle,!0,!0));let z=tt.getBBox();if((0,o.n)((0,o.c)().flowchart.htmlLabels)){const yt=tt.children[0],ht=(0,M.Ys)(tt);z=yt.getBoundingClientRect(),ht.attr("width",z.width),ht.attr("height",z.height)}z.width>d&&(d=z.width),f+=z.height+n,vt.push(tt)}),f+=a,w){let X=(d-H.width)/2;(0,M.Ys)(R).attr("transform","translate( "+(-1*d/2+X)+", "+-1*f/2+")"),u=H.height+n}let Ft=(d-D.width)/2;return(0,M.Ys)(J).attr("transform","translate( "+(-1*d/2+Ft)+", "+(-1*f/2+u)+")"),u+=D.height+n,c.attr("class","divider").attr("x1",-d/2-e).attr("x2",d/2+e).attr("y1",-f/2-e+a+u).attr("y2",-f/2-e+a+u),u+=a,ot.forEach(X=>{(0,M.Ys)(X).attr("transform","translate( "+-d/2+", "+(-1*f/2+u+a/2)+")"),u+=D.height+n}),u+=a,p.attr("class","divider").attr("x1",-d/2-e).attr("x2",d/2+e).attr("y1",-f/2-e+a+u).attr("y2",-f/2-e+a+u),u+=a,vt.forEach(X=>{(0,M.Ys)(X).attr("transform","translate( "+-d/2+", "+(-1*f/2+u)+")"),u+=D.height+n}),l.attr("class","outer title-state").attr("x",-d/2-e).attr("y",-(f/2)-e).attr("width",d+t.padding).attr("height",f+t.padding),k(t,l),t.intersect=function(X){return C.rect(t,X)},i}};let ct={};const Ut=(r,t,e)=>W(this,null,function*(){let n,a;if(t.link){let s;(0,o.c)().securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=r.insert("svg:a").attr("xlink:href",t.link).attr("target",s),a=yield mt[t.shape](n,t,e)}else a=yield mt[t.shape](r,t,e),n=a;return t.tooltip&&a.attr("title",t.tooltip),t.class&&a.attr("class","node default "+t.class),ct[t.id]=n,t.haveCallback&&ct[t.id].attr("class",ct[t.id].attr("class")+" clickable"),n}),jt=(r,t)=>{ct[t.id]=r},Dt=()=>{ct={}},Xt=r=>{const t=ct[r.id];o.l.trace("Transforming node",r.diff,r,"translate("+(r.x-r.width/2-5)+", "+r.width/2+")");const e=8,n=r.diff||0;return r.clusterNode?t.attr("transform","translate("+(r.x+n-r.width/2)+", "+(r.y-r.height/2-e)+")"):t.attr("transform","translate("+r.x+", "+r.y+")"),n};let ft={},U={};const Pt=()=>{ft={},U={}},Zt=(r,t)=>{const e=(0,o.n)((0,o.c)().flowchart.htmlLabels),n=t.labelType==="markdown"?(0,F.c)(r,t.label,{style:t.labelStyle,useHtmlLabels:e,addSvgBackground:!0}):g(t.label,t.labelStyle);o.l.info("abc82",t,t.labelType);const a=r.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(n);let i=n.getBBox();if(e){const c=n.children[0],p=(0,M.Ys)(n);i=c.getBoundingClientRect(),p.attr("width",i.width),p.attr("height",i.height)}s.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"),ft[t.id]=a,t.width=i.width,t.height=i.height;let l;if(t.startLabelLeft){const c=g(t.startLabelLeft,t.labelStyle),p=r.insert("g").attr("class","edgeTerminals"),d=p.insert("g").attr("class","inner");l=d.node().appendChild(c);const f=c.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),U[t.id]||(U[t.id]={}),U[t.id].startLeft=p,gt(l,t.startLabelLeft)}if(t.startLabelRight){const c=g(t.startLabelRight,t.labelStyle),p=r.insert("g").attr("class","edgeTerminals"),d=p.insert("g").attr("class","inner");l=p.node().appendChild(c),d.node().appendChild(c);const f=c.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),U[t.id]||(U[t.id]={}),U[t.id].startRight=p,gt(l,t.startLabelRight)}if(t.endLabelLeft){const c=g(t.endLabelLeft,t.labelStyle),p=r.insert("g").attr("class","edgeTerminals"),d=p.insert("g").attr("class","inner");l=d.node().appendChild(c);const f=c.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),p.node().appendChild(c),U[t.id]||(U[t.id]={}),U[t.id].endLeft=p,gt(l,t.endLabelLeft)}if(t.endLabelRight){const c=g(t.endLabelRight,t.labelStyle),p=r.insert("g").attr("class","edgeTerminals"),d=p.insert("g").attr("class","inner");l=d.node().appendChild(c);const f=c.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),p.node().appendChild(c),U[t.id]||(U[t.id]={}),U[t.id].endRight=p,gt(l,t.endLabelRight)}return n};function gt(r,t){(0,o.c)().flowchart.htmlLabels&&r&&(r.style.width=t.length*9+"px",r.style.height="12px")}const Kt=(r,t)=>{o.l.info("Moving label abc78 ",r.id,r.label,ft[r.id]);let e=t.updatedPath?t.updatedPath:t.originalPath;if(r.label){const n=ft[r.id];let a=r.x,s=r.y;if(e){const i=o.u.calcLabelPosition(e);o.l.info("Moving label "+r.label+" from (",a,",",s,") to (",i.x,",",i.y,") abc78"),t.updatedPath&&(a=i.x,s=i.y)}n.attr("transform","translate("+a+", "+s+")")}if(r.startLabelLeft){const n=U[r.id].startLeft;let a=r.x,s=r.y;if(e){const i=o.u.calcTerminalLabelPosition(r.arrowTypeStart?10:0,"start_left",e);a=i.x,s=i.y}n.attr("transform","translate("+a+", "+s+")")}if(r.startLabelRight){const n=U[r.id].startRight;let a=r.x,s=r.y;if(e){const i=o.u.calcTerminalLabelPosition(r.arrowTypeStart?10:0,"start_right",e);a=i.x,s=i.y}n.attr("transform","translate("+a+", "+s+")")}if(r.endLabelLeft){const n=U[r.id].endLeft;let a=r.x,s=r.y;if(e){const i=o.u.calcTerminalLabelPosition(r.arrowTypeEnd?10:0,"end_left",e);a=i.x,s=i.y}n.attr("transform","translate("+a+", "+s+")")}if(r.endLabelRight){const n=U[r.id].endRight;let a=r.x,s=r.y;if(e){const i=o.u.calcTerminalLabelPosition(r.arrowTypeEnd?10:0,"end_right",e);a=i.x,s=i.y}n.attr("transform","translate("+a+", "+s+")")}},zt=(r,t)=>{const e=r.x,n=r.y,a=Math.abs(t.x-e),s=Math.abs(t.y-n),i=r.width/2,l=r.height/2;return a>=i||s>=l},Gt=(r,t,e)=>{o.l.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(e)}
  node        : x:${r.x} y:${r.y} w:${r.width} h:${r.height}`);const n=r.x,a=r.y,s=Math.abs(n-e.x),i=r.width/2;let l=e.x<t.x?i-s:i+s;const c=r.height/2,p=Math.abs(t.y-e.y),d=Math.abs(t.x-e.x);if(Math.abs(a-t.y)*i>Math.abs(n-t.x)*c){let f=e.y<t.y?t.y-c-a:a-c-t.y;l=d*f/p;const E={x:e.x<t.x?e.x+l:e.x-d+l,y:e.y<t.y?e.y+p-f:e.y-p+f};return l===0&&(E.x=t.x,E.y=t.y),d===0&&(E.x=t.x),p===0&&(E.y=t.y),o.l.warn(`abc89 topp/bott calc, Q ${p}, q ${f}, R ${d}, r ${l}`,E),E}else{e.x<t.x?l=t.x-i-n:l=n-i-t.x;let f=p*l/d,E=e.x<t.x?e.x+d-l:e.x-d+l,u=e.y<t.y?e.y+f:e.y-f;return o.l.warn(`sides calc abc89, Q ${p}, q ${f}, R ${d}, r ${l}`,{_x:E,_y:u}),l===0&&(E=t.x,u=t.y),d===0&&(E=t.x),p===0&&(u=t.y),{x:E,y:u}}},kt=(r,t)=>{o.l.warn("abc88 cutPathAtIntersect",r,t);let e=[],n=r[0],a=!1;return r.forEach(s=>{if(o.l.info("abc88 checking point",s,t),!zt(t,s)&&!a){const i=Gt(t,n,s);o.l.warn("abc88 inside",s,n,i),o.l.warn("abc88 intersection",i);let l=!1;e.forEach(c=>{l=l||c.x===i.x&&c.y===i.y}),e.some(c=>c.x===i.x&&c.y===i.y)?o.l.warn("abc88 no intersect",i,e):e.push(i),a=!0}else o.l.warn("abc88 outside",s,n),n=s,a||e.push(s)}),o.l.warn("abc88 returning points",e),e},Jt=function(r,t,e,n,a,s){let i=e.points,l=!1;const c=s.node(t.v);var p=s.node(t.w);o.l.info("abc88 InsertEdge: ",e),p.intersect&&c.intersect&&(i=i.slice(1,e.points.length-1),i.unshift(c.intersect(i[0])),o.l.info("Last point",i[i.length-1],p,p.intersect(i[i.length-1])),i.push(p.intersect(i[i.length-1]))),e.toCluster&&(o.l.info("to cluster abc88",n[e.toCluster]),i=kt(e.points,n[e.toCluster].node),l=!0),e.fromCluster&&(o.l.info("from cluster abc88",n[e.fromCluster]),i=kt(i.reverse(),n[e.fromCluster].node).reverse(),l=!0);const d=i.filter(H=>!Number.isNaN(H.y));let f;a==="graph"||a==="flowchart"?f=e.curve||M.$0Z:f=M.$0Z;const E=(0,M.jvg)().x(function(H){return H.x}).y(function(H){return H.y}).curve(f);let u;switch(e.thickness){case"normal":u="edge-thickness-normal";break;case"thick":u="edge-thickness-thick";break;case"invisible":u="edge-thickness-thick";break;default:u=""}switch(e.pattern){case"solid":u+=" edge-pattern-solid";break;case"dotted":u+=" edge-pattern-dotted";break;case"dashed":u+=" edge-pattern-dashed";break}const w=r.append("path").attr("d",E(d)).attr("id",e.id).attr("class"," "+u+(e.classes?" "+e.classes:"")).attr("style",e.style);let L="";switch(((0,o.c)().flowchart.arrowMarkerAbsolute||(0,o.c)().state.arrowMarkerAbsolute)&&(L=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,L=L.replace(/\(/g,"\\("),L=L.replace(/\)/g,"\\)")),o.l.info("arrowTypeStart",e.arrowTypeStart),o.l.info("arrowTypeEnd",e.arrowTypeEnd),e.arrowTypeStart){case"arrow_cross":w.attr("marker-start","url("+L+"#"+a+"-crossStart)");break;case"arrow_point":w.attr("marker-start","url("+L+"#"+a+"-pointStart)");break;case"arrow_barb":w.attr("marker-start","url("+L+"#"+a+"-barbStart)");break;case"arrow_circle":w.attr("marker-start","url("+L+"#"+a+"-circleStart)");break;case"aggregation":w.attr("marker-start","url("+L+"#"+a+"-aggregationStart)");break;case"extension":w.attr("marker-start","url("+L+"#"+a+"-extensionStart)");break;case"composition":w.attr("marker-start","url("+L+"#"+a+"-compositionStart)");break;case"dependency":w.attr("marker-start","url("+L+"#"+a+"-dependencyStart)");break;case"lollipop":w.attr("marker-start","url("+L+"#"+a+"-lollipopStart)");break}switch(e.arrowTypeEnd){case"arrow_cross":w.attr("marker-end","url("+L+"#"+a+"-crossEnd)");break;case"arrow_point":w.attr("marker-end","url("+L+"#"+a+"-pointEnd)");break;case"arrow_barb":w.attr("marker-end","url("+L+"#"+a+"-barbEnd)");break;case"arrow_circle":w.attr("marker-end","url("+L+"#"+a+"-circleEnd)");break;case"aggregation":w.attr("marker-end","url("+L+"#"+a+"-aggregationEnd)");break;case"extension":w.attr("marker-end","url("+L+"#"+a+"-extensionEnd)");break;case"composition":w.attr("marker-end","url("+L+"#"+a+"-compositionEnd)");break;case"dependency":w.attr("marker-end","url("+L+"#"+a+"-dependencyEnd)");break;case"lollipop":w.attr("marker-end","url("+L+"#"+a+"-lollipopEnd)");break}let R={};return l&&(R.updatedPath=i),R.originalPath=e.points,R}},98237:function(dt,et,Y){Y.d(et,{p:function(){return it},s:function(){return pt}});var o=Y(61491),M=Y(15581);let F=0;const rt=function(_,S,h,y,x){const v=function(N){switch(N){case x.db.relationType.AGGREGATION:return"aggregation";case x.db.relationType.EXTENSION:return"extension";case x.db.relationType.COMPOSITION:return"composition";case x.db.relationType.DEPENDENCY:return"dependency";case x.db.relationType.LOLLIPOP:return"lollipop"}};S.points=S.points.filter(N=>!Number.isNaN(N.y));const T=S.points,B=(0,o.jvg)().x(function(N){return N.x}).y(function(N){return N.y}).curve(o.$0Z),g=_.append("path").attr("d",B(T)).attr("id","edge"+F).attr("class","relation");let m="";y.arrowMarkerAbsolute&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),h.relation.lineType==1&&g.attr("class","relation dashed-line"),h.relation.lineType==10&&g.attr("class","relation dotted-line"),h.relation.type1!=="none"&&g.attr("marker-start","url("+m+"#"+v(h.relation.type1)+"Start)"),h.relation.type2!=="none"&&g.attr("marker-end","url("+m+"#"+v(h.relation.type2)+"End)");let k,b;const I=S.points.length;let $=M.u.calcLabelPosition(S.points);k=$.x,b=$.y;let A,j,Q,O;if(I%2!==0&&I>1){let N=M.u.calcCardinalityPosition(h.relation.type1!=="none",S.points,S.points[0]),Z=M.u.calcCardinalityPosition(h.relation.type2!=="none",S.points,S.points[I-1]);M.l.debug("cardinality_1_point "+JSON.stringify(N)),M.l.debug("cardinality_2_point "+JSON.stringify(Z)),A=N.x,j=N.y,Q=Z.x,O=Z.y}if(h.title!==void 0){const N=_.append("g").attr("class","classLabel"),Z=N.append("text").attr("class","label").attr("x",k).attr("y",b).attr("fill","red").attr("text-anchor","middle").text(h.title);window.label=Z;const C=Z.node().getBBox();N.insert("rect",":first-child").attr("class","box").attr("x",C.x-y.padding/2).attr("y",C.y-y.padding/2).attr("width",C.width+y.padding).attr("height",C.height+y.padding)}M.l.info("Rendering relation "+JSON.stringify(h)),h.relationTitle1!==void 0&&h.relationTitle1!=="none"&&_.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",A).attr("y",j).attr("fill","black").attr("font-size","6").text(h.relationTitle1),h.relationTitle2!==void 0&&h.relationTitle2!=="none"&&_.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",Q).attr("y",O).attr("fill","black").attr("font-size","6").text(h.relationTitle2),F++},V=function(_,S,h,y){M.l.debug("Rendering class ",S,h);const x=S.id,v={id:x,label:S.id,width:0,height:0},T=_.append("g").attr("id",y.db.lookUpDomId(x)).attr("class","classGroup");let B;S.link?B=T.append("svg:a").attr("xlink:href",S.link).attr("target",S.linkTarget).append("text").attr("y",h.textHeight+h.padding).attr("x",0):B=T.append("text").attr("y",h.textHeight+h.padding).attr("x",0);let g=!0;S.annotations.forEach(function(q){const ut=B.append("tspan").text("\xAB"+q+"\xBB");g||ut.attr("dy",h.textHeight),g=!1});let m=P(S);const k=B.append("tspan").text(m).attr("class","title");g||k.attr("dy",h.textHeight);const b=B.node().getBBox().height,I=T.append("line").attr("x1",0).attr("y1",h.padding+b+h.dividerMargin/2).attr("y2",h.padding+b+h.dividerMargin/2),$=T.append("text").attr("x",h.padding).attr("y",b+h.dividerMargin+h.textHeight).attr("fill","white").attr("class","classText");g=!0,S.members.forEach(function(q){nt($,q,g,h),g=!1});const A=$.node().getBBox(),j=T.append("line").attr("x1",0).attr("y1",h.padding+b+h.dividerMargin+A.height).attr("y2",h.padding+b+h.dividerMargin+A.height),Q=T.append("text").attr("x",h.padding).attr("y",b+2*h.dividerMargin+A.height+h.textHeight).attr("fill","white").attr("class","classText");g=!0,S.methods.forEach(function(q){nt(Q,q,g,h),g=!1});const O=T.node().getBBox();var N=" ";S.cssClasses.length>0&&(N=N+S.cssClasses.join(" "));const C=T.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",O.width+2*h.padding).attr("height",O.height+h.padding+.5*h.dividerMargin).attr("class",N).node().getBBox().width;return B.node().childNodes.forEach(function(q){q.setAttribute("x",(C-q.getBBox().width)/2)}),S.tooltip&&B.insert("title").text(S.tooltip),I.attr("x2",C),j.attr("x2",C),v.width=C,v.height=O.height+h.padding+.5*h.dividerMargin,v},P=function(_){let S=_.id;return _.type&&(S+="<"+_.type+">"),S},at=function(_,S,h,y){M.l.debug("Rendering note ",S,h);const x=S.id,v={id:x,text:S.text,width:0,height:0},T=_.append("g").attr("id",x).attr("class","classGroup");let B=T.append("text").attr("y",h.textHeight+h.padding).attr("x",0);const g=JSON.parse(`"${S.text}"`).split(`
`);g.forEach(function(I){M.l.debug(`Adding line: ${I}`),B.append("tspan").text(I).attr("class","title").attr("dy",h.textHeight)});const m=T.node().getBBox(),b=T.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",m.width+2*h.padding).attr("height",m.height+g.length*h.textHeight+h.padding+.5*h.dividerMargin).node().getBBox().width;return B.node().childNodes.forEach(function(I){I.setAttribute("x",(b-I.getBBox().width)/2)}),v.width=b,v.height=m.height+g.length*h.textHeight+h.padding+.5*h.dividerMargin,v},it=function(_){let S="",h="",y="",x="",v=_.substring(0,1),T=_.substring(_.length-1,_.length);v.match(/[#+~-]/)&&(x=v);let B=/[\s\w)~]/;T.match(B)||(h=lt(T));const g=x===""?0:1;let m=h===""?_.length:_.length-1;_=_.substring(g,m);const k=_.indexOf("("),b=_.indexOf(")");if(k>1&&b>k&&b<=_.length){let $=_.substring(0,k).trim();const A=_.substring(k+1,b);if(S=x+$+"("+(0,M.x)(A.trim())+")",b<_.length){let j=_.substring(b+1,b+2);h===""&&!j.match(B)?(h=lt(j),y=_.substring(b+2).trim()):y=_.substring(b+1).trim(),y!==""&&(y.charAt(0)===":"&&(y=y.substring(1).trim()),y=" : "+(0,M.x)(y),S+=y)}}else S=x+(0,M.x)(_);return{displayText:S,cssStyle:h}},nt=function(_,S,h,y){let x=it(S);const v=_.append("tspan").attr("x",y.padding).text(x.displayText);x.cssStyle!==""&&v.attr("style",x.cssStyle),h||v.attr("dy",y.textHeight)},lt=function(_){switch(_){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},pt={getClassTitleString:P,drawClass:V,drawEdge:rt,drawNote:at,parseMember:it}}}]);

//# sourceMappingURL=8264.4e2f67f1363f718f47f7.js.map